<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">

<head profile="http://purl.org/uF/2008/03/ http://purl.org/uF/hAtom/0.1/">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="template" content="K2 1.0" />

	<title>Running Nulecules in Openshift via oc new-app &laquo;  A Random Walk Down Tech Street</title>

	<link rel="stylesheet" type="text/css" media="screen" href="http://dustymabe.com/wp-content/themes/k2/style.css" />

	
		<link rel="pingback" href="http://dustymabe.com/xmlrpc.php" />
	
	<link rel="alternate" type="application/rss+xml" title="A Random Walk Down Tech Street &raquo; Feed" href="http://dustymabe.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="A Random Walk Down Tech Street &raquo; Comments Feed" href="http://dustymabe.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="A Random Walk Down Tech Street &raquo; Running Nulecules in Openshift via oc new-app Comments Feed" href="http://dustymabe.com/2016/01/18/running-nulecules-in-openshift-via-oc-new-app/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/dustymabe.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.1"}};
			!function(a,b,c){function d(a){var c,d=b.createElement("canvas"),e=d.getContext&&d.getContext("2d");return e&&e.fillText?(e.textBaseline="top",e.font="600 32px Arial","flag"===a?(e.fillText(String.fromCharCode(55356,56806,55356,56826),0,0),d.toDataURL().length>3e3):"diversity"===a?(e.fillText(String.fromCharCode(55356,57221),0,0),c=e.getImageData(16,16,1,1).data.toString(),e.fillText(String.fromCharCode(55356,57221,55356,57343),0,0),c!==e.getImageData(16,16,1,1).data.toString()):("simple"===a?e.fillText(String.fromCharCode(55357,56835),0,0):e.fillText(String.fromCharCode(55356,57135),0,0),0!==e.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<!-- This site uses the Google Analytics by Yoast plugin v5.4.6 - Universal enabled - https://yoast.com/wordpress/plugins/google-analytics/ -->
<script type="text/javascript">
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

	__gaTracker('create', 'UA-28204584-1', 'auto');
	__gaTracker('set', 'forceSSL', true);
	__gaTracker('send','pageview');

</script>
<!-- / Google Analytics by Yoast -->
<script type='text/javascript' src='http://dustymabe.com/wp-includes/js/jquery/jquery.js?ver=1.11.3'></script>
<script type='text/javascript' src='http://dustymabe.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://dustymabe.com/wp-content/themes/k2/js/k2.functions.js?ver=1.0'></script>
<link rel='https://api.w.org/' href='http://dustymabe.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://dustymabe.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://dustymabe.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Archived-At Email Header From Mailman 3 Lists' href='http://dustymabe.com/2016/01/10/archived-at-email-header-from-mailman-3-lists/' />
<link rel='next' title='The CentOS CI Infrastructure: A Getting Started Guide' href='http://dustymabe.com/2016/01/23/the-centos-ci-infrastructure-a-getting-started-guide/' />
<meta name="generator" content="WordPress 4.4.1" />
<link rel="canonical" href="http://dustymabe.com/2016/01/18/running-nulecules-in-openshift-via-oc-new-app/" />
<link rel='shortlink' href='http://dustymabe.com/?p=495' />
<link rel="alternate" type="application/json+oembed" href="http://dustymabe.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fdustymabe.com%2F2016%2F01%2F18%2Frunning-nulecules-in-openshift-via-oc-new-app%2F" />
		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		
		<link rel='archives' title='April 2016' href='http://dustymabe.com/2016/04/' />
	<link rel='archives' title='January 2016' href='http://dustymabe.com/2016/01/' />
	<link rel='archives' title='November 2015' href='http://dustymabe.com/2015/11/' />
	<link rel='archives' title='September 2015' href='http://dustymabe.com/2015/09/' />
	<link rel='archives' title='August 2015' href='http://dustymabe.com/2015/08/' />
	<link rel='archives' title='July 2015' href='http://dustymabe.com/2015/07/' />
	<link rel='archives' title='June 2015' href='http://dustymabe.com/2015/06/' />
	<link rel='archives' title='May 2015' href='http://dustymabe.com/2015/05/' />
	<link rel='archives' title='January 2015' href='http://dustymabe.com/2015/01/' />
	<link rel='archives' title='November 2014' href='http://dustymabe.com/2014/11/' />
	<link rel='archives' title='September 2014' href='http://dustymabe.com/2014/09/' />
	<link rel='archives' title='August 2014' href='http://dustymabe.com/2014/08/' />
	<link rel='archives' title='July 2014' href='http://dustymabe.com/2014/07/' />
	<link rel='archives' title='May 2014' href='http://dustymabe.com/2014/05/' />
	<link rel='archives' title='October 2013' href='http://dustymabe.com/2013/10/' />
	<link rel='archives' title='September 2013' href='http://dustymabe.com/2013/09/' />
	<link rel='archives' title='August 2013' href='http://dustymabe.com/2013/08/' />
	<link rel='archives' title='July 2013' href='http://dustymabe.com/2013/07/' />
	<link rel='archives' title='June 2013' href='http://dustymabe.com/2013/06/' />
	<link rel='archives' title='May 2013' href='http://dustymabe.com/2013/05/' />
	<link rel='archives' title='January 2013' href='http://dustymabe.com/2013/01/' />
	<link rel='archives' title='December 2012' href='http://dustymabe.com/2012/12/' />
	<link rel='archives' title='November 2012' href='http://dustymabe.com/2012/11/' />
	<link rel='archives' title='October 2012' href='http://dustymabe.com/2012/10/' />
	<link rel='archives' title='September 2012' href='http://dustymabe.com/2012/09/' />
	<link rel='archives' title='August 2012' href='http://dustymabe.com/2012/08/' />
	<link rel='archives' title='May 2012' href='http://dustymabe.com/2012/05/' />
	<link rel='archives' title='April 2012' href='http://dustymabe.com/2012/04/' />
	<link rel='archives' title='March 2012' href='http://dustymabe.com/2012/03/' />
	<link rel='archives' title='January 2012' href='http://dustymabe.com/2012/01/' />
</head>

<body class="wordpress k2 y2016 m05 d05 h12 rollingarchives animations single postid-495 s-slug-running-nulecules-in-openshift-via-oc-new-app s-y2016 s-m01 s-d18 s-h09 s-category-atomic-app s-category-nulecule s-category-openshift s-author-dustymabe columns-two lang-en wpmu-1">


<div id="page">

	
	<div id="header">

		
<div class='blog-title'>	<a href="http://dustymabe.com/" accesskey="1">A Random Walk Down Tech Street</a>
</div>
<p class="description">by Dusty Mabe</p>

<ul class="menu">
	<li class="page_item blogtab">
		<a href="http://dustymabe.com/" title="Blog">
			Blog		</a>
	</li>

	
	<li class="page_item page-item-20"><a href="http://dustymabe.com/resume/">Resume</a></li>

	</ul><!-- .menu -->


		
	</div> <!-- #header -->

	<hr />

	
<div class="content">

<div id="dusty-primary-wrapper">
	<div id="dusty-primary">
		<div id="notices"></div>
		<a name="startcontent" id="startcontent"></a>

		<div id="current-content" class="hfeed">

		
			
	<div id="nav-above" class="navigation">

			<div class="nav-previous"><a href="http://dustymabe.com/2016/01/10/archived-at-email-header-from-mailman-3-lists/" rel="prev"><span class="meta-nav">&laquo;</span> Archived-At Email Header From Mailman 3 Lists</a></div>
		<div class="nav-next"><a href="http://dustymabe.com/2016/01/23/the-centos-ci-infrastructure-a-getting-started-guide/" rel="next">The CentOS CI Infrastructure: A Getting Started Guide <span class="meta-nav">&raquo;</span></a></div>
	
		<div class="clear"></div>
	</div>

 

				<!-- If the post is >350 then use rst_class for formatting as
				     I have chosen to use rst instead of html in the future. -->
								<div id="post-495" class="rst_class post-495 post type-post status-publish format-standard hentry category-atomic-app category-nulecule category-openshift p1 y2016 m01 d18 h09">

				<div class="entry-head">
					<h1 class="entry-title">
						<a href="http://dustymabe.com/2016/01/18/running-nulecules-in-openshift-via-oc-new-app/" rel="bookmark" title="Permanent Link to Running Nulecules in Openshift via oc new-app">Running Nulecules in Openshift via oc new-app</a>
					</h1>

					
					<div class="entry-meta">
						Published on <abbr class="published entry-date" title="2016-01-18T13:30:27-0400">January 18, 2016</abbr> in <span class="entry-categories"><a href="http://dustymabe.com/category/atomic-app/" title="View all posts in Atomic App">Atomic App</a>, <a href="http://dustymabe.com/category/nulecule/" title="View all posts in Nulecule">Nulecule</a> and <a href="http://dustymabe.com/category/openshift/" title="View all posts in OpenShift">OpenShift</a></span>. <span class="entry-comments"><a href="http://dustymabe.com/2016/01/18/running-nulecules-in-openshift-via-oc-new-app/#respond" class="commentslink" >0 <span>Comments</span></a></span> 					</div> <!-- .entry-meta -->

									</div><!-- .entry-head -->

				<div class="entry-content">
										<h1 id="intro">Intro</h1>
<p>As part of the Container Tools team at Red Hat I'd like to highlight a feature of <a href="https://github.com/projectatomic/atomicapp">Atomic App</a>: support for execution via OpenShift's cli command oc new-app.</p>
<p>The native support for launching Nulecules means that OpenShift users can easily pull from a library of Atomic Apps (Nuleculized applications) that exist in a Docker registry and launch them into OpenShift. Applications that have been packaged up in a Nulecule offer a benefit to the packager and to the deployer of the application. The packager can deliver one Nulecule to all users that supports many different platforms and the deployer gets a simplified delivery mechanism; deploying a Nulecule via Atomic App is easier than trying to manage provider definitions.</p>
<h1 id="demo-time">DEMO Time</h1>
<p>OK. Let's do a demo. I'll choose the <a href="https://github.com/kubernetes/kubernetes/tree/master/examples/guestbook">guestbook</a> example application developed by Kubernetes. The Nulecule defintion for this example lives <a href="https://github.com/projectatomic/nulecule-library/tree/master/guestbookgo-atomicapp">here</a>. To start the container in OpenShift via <code>oc new-app</code> you simply run the following command from the command line:</p>
<pre><code># oc new-app projectatomic/guestbookgo-atomicapp --grant-install-rights</code></pre>
<p>This will run a pod using the container image <code>projectatomic/guestbookgo-atomicapp</code>. The Atomic App software that runs inside the container image will evaluate the Nulecule in the image and communicate with OpenShift in order to bring up the <code>guestbook</code> application, which also leverages <code>redis</code>.</p>
<p>You should now be able to see the <code>redis</code> and <code>guestbook</code> replication controllers and services:</p>
<pre><code># oc get rc
CONTROLLER     CONTAINER(S)   IMAGE(S)                  SELECTOR                REPLICAS   AGE
guestbook      guestbook      kubernetes/guestbook:v2   app=guestbook           3          3m
redis-master   redis-master   centos/redis              app=redis,role=master   1          3m
redis-slave    redis-slave    centos/redis              app=redis,role=slave    2          3m
# oc get svc
NAME           CLUSTER_IP      EXTERNAL_IP   PORT(S)    SELECTOR                AGE
guestbook      172.30.24.168                 3000/TCP   app=guestbook           3m
redis-master   172.30.210.63   &lt;none&gt;        6379/TCP   app=redis,role=master   3m
redis-slave    172.30.62.63    &lt;none&gt;        6379/TCP   app=redis,role=slave    3m</code></pre>
<p>As well as the pods that are started as a result of the replication controllers:</p>
<pre><code># oc get pods
NAME                 READY     STATUS    RESTARTS   AGE
guestbook-6gujf      1/1       Running   0          3m
guestbook-m61vq      1/1       Running   0          3m
guestbook-otoz4      1/1       Running   0          3m
redis-master-wdl80   1/1       Running   0          3m
redis-slave-fbapw    1/1       Running   0          3m
redis-slave-oizwb    1/1       Running   0          3m</code></pre>
<p>If you have access to the instance where the pods are running you can access it via a Node IP and NodePort, however this is not common in a hosted environment. In a hosted environment you need to expose the service in openshift via a route:</p>
<pre><code># oc expose service guestbook
route &quot;guestbook&quot; exposed
# oc get route guestbook
NAME        HOST/PORT                                       PATH      SERVICE     LABELS          INSECURE POLICY   TLS TERMINATION
guestbook   guestbook-proj1.e8ca.engint.openshiftapps.com             guestbook   app=guestbook</code></pre>
<p>Now you should be able to access the guestbook service via the provided hostname; in this case it is <code>guestbook-proj1.e8ca.engint.openshiftapps.com</code>. A quick visit with Firefox gives us:</p>
<p><img src="http://dustymabe.com/content/2016-01-18/guestbook.png" alt="image" /></p>
<p>And we have a guestbook up and running!</p>
<p>Give <code>oc new-app</code> on an Atomic App a spin and give us some feeback at <script type="text/javascript">
<!--
h='&#114;&#x65;&#100;&#104;&#x61;&#116;&#46;&#x63;&#x6f;&#x6d;';a='&#64;';n='&#x63;&#x6f;&#110;&#116;&#x61;&#x69;&#110;&#x65;&#114;&#x2d;&#116;&#x6f;&#x6f;&#108;&#x73;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'" clas'+'s="em' + 'ail">'+e+'<\/'+'a'+'>');
// -->
</script><noscript>&#x63;&#x6f;&#110;&#116;&#x61;&#x69;&#110;&#x65;&#114;&#x2d;&#116;&#x6f;&#x6f;&#108;&#x73;&#32;&#x61;&#116;&#32;&#114;&#x65;&#100;&#104;&#x61;&#116;&#32;&#100;&#x6f;&#116;&#32;&#x63;&#x6f;&#x6d;</noscript>.</p>
<p>Dusty</p>
				</div><!-- .entry-content -->

				<div class="entry-foot">
					
					<div class="entry-meta">
											</div><!-- .entry-meta -->

									</div><!-- .entry-foot -->
			</div><!-- #post-ID -->

			<div class="comments">
				
		<h4><span id="comments">0</span> Responses to &#8220;Running Nulecules in Openshift via oc new-app&#8221;</h4>

		<div class="metalinks">
			<span class="commentsrsslink"><a href="http://dustymabe.com/2016/01/18/running-nulecules-in-openshift-via-oc-new-app/feed/">Feed for this Entry</a></span>
			<span class="trackbacklink"><a href="http://dustymabe.com/2016/01/18/running-nulecules-in-openshift-via-oc-new-app/trackback/" title="Copy this URI to trackback this entry.">Trackback Address</a></span>		</div>

		<hr />

			<ul id="commentlist">
			<li id="leavecomment">
				No Comments			</li>
		</ul>
	
			
	
		<div id="respond">
		<h4 class="reply">Leave a Reply</h4>

		<div class="quoter_page_container"></div>
		
				<div class="cancel-comment-reply">
			<a rel="nofollow" id="cancel-comment-reply-link" href="/2016/01/18/running-nulecules-in-openshift-via-oc-new-app/#respond" style="display:none;">Cancel Reply</a>		</div>
		
					<form action="http://dustymabe.com/wp-comments-post.php" method="post" id="commentform">

						
							<div id="comment-author-info">
					<p>
						<input type="text" name="author" id="author" value="" size="22" tabindex="1" />
						<label for="author">
							<strong>Name</strong> (required)						</label>
					</p>
					
					<p>
						<input type="text" name="email" id="email" value="" size="22" tabindex="2" />
						<label for="email">
							<strong>Mail</strong> (will not be published) (required)						</label>
					</p>
					
					<p>
						<input type="text" name="url" id="url" value="" size="22" tabindex="3" />
						<label for="url">
							<strong>Website</strong>
						</label>
					</p>			
				</div><!-- comment-personaldetails -->
			
				<!--<p><strong>XHTML:</strong> You can use these tags: &lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;s&gt; &lt;strike&gt; &lt;strong&gt; </p>-->
		
				<p>
					<textarea name="comment" id="comment" cols="100%" rows="10" tabindex="4"></textarea>
				</p>
		
				<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="9bbd2fabac" /></p><div class="g-recaptcha" data-sitekey="6LeAqc8SAAAAAGhiqsUcc2kWjEsBv7A6_b3EvQe1" data-theme="standard"></div><script type="text/javascript"src="https://www.google.com/recaptcha/api.js?hl=en"></script>            <div id="recaptcha-submit-btn-area">&nbsp;</div>
            <noscript>
            <style type='text/css'>#submit {display:none;}</style>
            <input name="submit" type="submit" id="submit-alt" tabindex="6"
                value="Submit Comment"/> 
            </noscript><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="59"/></p>		
				<p>
					<div><input name="submit" type="submit" id="submit" tabindex="5" value="Submit" /></div>

					<input type='hidden' name='comment_post_ID' value='495' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />

				</p>
			</form>

			
		<div class="clear"></div>
	</div> <!-- .commentformbox -->

				</div><!-- .comments -->

			
	<div id="nav-below" class="navigation">

			<div class="nav-previous"><a href="http://dustymabe.com/2016/01/10/archived-at-email-header-from-mailman-3-lists/" rel="prev"><span class="meta-nav">&laquo;</span> Archived-At Email Header From Mailman 3 Lists</a></div>
		<div class="nav-next"><a href="http://dustymabe.com/2016/01/23/the-centos-ci-infrastructure-a-getting-started-guide/" rel="next">The CentOS CI Infrastructure: A Getting Started Guide <span class="meta-nav">&raquo;</span></a></div>
	
		<div class="clear"></div>
	</div>

 

		
		</div><!-- #current-content -->

		<div id="dynamic-content"></div>
	</div><!-- #primary -->
</div><!-- #primary-wrapper -->


	</div><!-- .content -->

	
	<div class="clear"></div>
</div> <!-- Close Page -->

<hr />


<div id="footer">

	
<p class="footerpoweredby">
	Powered by <a href="http://wordpress.org/">WordPress</a> and <a href="http://getk2.com/" title="Loves you like a kitten.">K2</a></p>


<p class="footerfeedlinks">
	<a href="http://dustymabe.com/feed/">Entries Feed</a> and <a href="http://dustymabe.com/comments/feed/">Comments Feed</a></p>

<p class="footerstats">
	16 queries. 0.139 seconds.</p>

	</div><!-- #footer -->

	<script type="text/javascript">
	//<![CDATA[
	
		K2.AjaxURL = "http://dustymabe.com/";
		K2.Animations = 1;

		jQuery(document).ready(function(){
						K2.LiveSearch = new LiveSearch(
				"Type and Wait to Search"
			);
			
						K2.RollingArchives = new RollingArchives(
				"Page %1$d of %2$d"
			);

			jQuery('body').addClass('rollingarchives');
			
			jQuery('#dynamic-content').ajaxSuccess(function () {
				// Lightbox v2.03.3 - Adds new images to lightbox
if (typeof myLightbox != 'undefined' && myLightbox instanceof Lightbox && myLightbox.updateImageList) {
	myLightbox.updateImageList();
}
			});

			initARIA();
		});
	//]]>
	</script>
            <script type="text/javascript">
            var sub = document.getElementById('submit');
            document.getElementById('recaptcha-submit-btn-area').appendChild (sub);
            document.getElementById('submit').tabIndex = 6;
            if ( typeof _recaptcha_wordpress_savedcomment != 'undefined') {
                document.getElementById('comment').value = 
                    _recaptcha_wordpress_savedcomment;
            }
            </script><script type='text/javascript' src='http://dustymabe.com/wp-content/plugins/akismet/_inc/form.js?ver=3.1.7'></script>
<script type='text/javascript' src='http://dustymabe.com/wp-content/themes/k2/js/k2.slider.js?ver=1.0'></script>
<script type='text/javascript' src='http://dustymabe.com/wp-content/themes/k2/js/k2.trimmer.js?ver=1.0'></script>
<script type='text/javascript' src='http://dustymabe.com/wp-content/themes/k2/js/k2.rollingarchives.js?ver=1.0'></script>
<script type='text/javascript' src='http://dustymabe.com/wp-content/themes/k2/js/k2.livesearch.js?ver=1.0'></script>
<script type='text/javascript' src='http://dustymabe.com/wp-includes/js/comment-reply.min.js?ver=4.4.1'></script>
<script type='text/javascript' src='http://dustymabe.com/wp-includes/js/wp-embed.min.js?ver=4.4.1'></script>

</body>
</html> 
