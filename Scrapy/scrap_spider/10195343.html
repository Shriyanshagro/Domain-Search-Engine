<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/QAPage">
<head>

<title>c++ - Copy a file in a sane, safe and efficient way - Stack Overflow</title>
    <link rel="shortcut icon" href="//cdn.sstatic.net/Sites/stackoverflow/img/favicon.ico?v=4f32ecc8f43d">
    <link rel="apple-touch-icon image_src" href="//cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a">
    <link rel="search" type="application/opensearchdescription+xml" title="Stack Overflow" href="/opensearch.xml">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:domain" content="stackoverflow.com"/>
    <meta property="og:type" content="website" />    
    <meta property="og:image" itemprop="image primaryImageOfPage" content="http://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon@2.png?v=73d79a89bded&a" />
    <meta name="twitter:title" property="og:title" itemprop="title name" content="Copy a file in a sane, safe and efficient way" />
    <meta name="twitter:description" property="og:description" itemprop="description" content="I search for a good way to copy a file (binary or text). I&#39;ve written several samples, everyone works. But I want hear the opinion of seasoned programmers.

I missing good examples and search a way..." />
    <meta property="og:url" content="http://stackoverflow.com/questions/10195343/copy-a-file-in-a-sane-safe-and-efficient-way"/>
    <link rel="canonical" href="http://stackoverflow.com/questions/10195343/copy-a-file-in-a-sane-safe-and-efficient-way" />

    
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="//cdn.sstatic.net/Js/stub.en.js?v=547d6ef0a2b2"></script>
    <link rel="stylesheet" type="text/css" href="//cdn.sstatic.net/Sites/stackoverflow/all.css?v=fa9dc9346d8c">

            <link rel="alternate" type="application/atom+xml" title="Feed for question &#39;Copy a file in a sane, safe and efficient way&#39;" href="/feeds/question/10195343">
            <meta name="twitter:app:country" content="US" />
            <meta name="twitter:app:name:iphone" content="Stack Exchange iOS" />
            <meta name="twitter:app:id:iphone" content="871299723" />
            <meta name="twitter:app:url:iphone" content="se-zaphod://stackoverflow.com/questions/10195343/copy-a-file-in-a-sane-safe-and-efficient-way" />
            <meta name="twitter:app:name:ipad" content="Stack Exchange iOS" />
            <meta name="twitter:app:id:ipad" content="871299723" />
            <meta name="twitter:app:url:ipad" content="se-zaphod://stackoverflow.com/questions/10195343/copy-a-file-in-a-sane-safe-and-efficient-way" />
            <meta name="twitter:app:name:googleplay" content="Stack Exchange Android">
            <meta name="twitter:app:url:googleplay" content="http://stackoverflow.com/questions/10195343/copy-a-file-in-a-sane-safe-and-efficient-way">
            <meta name="twitter:app:id:googleplay" content="com.stackexchange.marvin">
        <script>
        
            StackExchange.ready(function () {
                    
                    StackExchange.using("snippets", function () {
                        StackExchange.snippets.initSnippetRenderer();
                    });
                    

                StackExchange.using("postValidation", function () {
                    StackExchange.postValidation.initOnBlurAndSubmit($('#post-form'), 2, 'answer');
                });

                
                StackExchange.question.init({showAnswerHelp:true,totalCommentCount:14,shownCommentCount:5,highlightColor:'#F4A83D',backgroundColor:'#FFF',questionId:10195343});

                styleCode();

                    StackExchange.realtime.subscribeToQuestion('1', '10195343');
                                                                    StackExchange.using("gps", function () { StackExchange.gps.trackOutboundClicks('#content', '.post-text'); });

            });
        </script>


    <script>
        StackExchange.init({"locale":"en","stackAuthUrl":"https://stackauth.com","networkMetaHostname":"meta.stackexchange.com","serverTime":1462483407,"routeName":"Questions/Show","styleCode":true,"enableUserHovercards":true,"snippets":{"enabled":true,"domain":"stacksnippets.net"},"site":{"name":"Stack Overflow","description":"Q&A for professional and enthusiast programmers","isNoticesTabEnabled":true,"recaptchaPublicKey":"6LdchgIAAAAAAJwGpIzRQSOFaO0pU6s44Xt8aTwc","recaptchaAudioLang":"en","enableNewTagCreationWarning":true,"insertSpaceAfterNameTabCompletion":false,"id":1,"enableSocialMediaInSharePopup":true},"user":{"fkey":"a13af72b54e2677d414be5d78af7b54f","rep":0,"isAnonymous":true,"isAnonymousNetworkWide":true}});
        StackExchange.using.setCacheBreakers({"js/prettify-full.en.js":"8aed2ce2a6d6","js/moderator.en.js":"c03231fe5b71","js/full-anon.en.js":"9fec08f4a58f","js/full.en.js":"1110056cfd6f","js/wmd.en.js":"2ca30b0296e2","js/third-party/jquery.autocomplete.min.js":"e5f01e97f7c3","js/third-party/jquery.autocomplete.min.en.js":"","js/mobile.en.js":"e6f0e5e9e0cc","js/help.en.js":"c8004cc0095d","js/tageditor.en.js":"9c6df10dabc4","js/tageditornew.en.js":"347247692997","js/inline-tag-editing.en.js":"943c7090ea55","js/revisions.en.js":"2faaeaae2529","js/review.en.js":"a377ed440f19","js/tagsuggestions.en.js":"b278f9a0b23b","js/post-validation.en.js":"736d4bad187d","js/explore-qlist.en.js":"e71f14781288","js/events.en.js":"889adbe9ddc4","js/keyboard-shortcuts.en.js":"68cd1278bc11","js/external-editor.en.js":"692898ad9a5b","js/external-editor.en.js":"692898ad9a5b","js/snippet-javascript.en.js":"9ebbcd127425","js/snippet-javascript-codemirror.en.js":"5a662ef07414"});
        StackExchange.using("gps", function() {
             StackExchange.gps.init(true);
        });
    </script>
    
        <script>
            StackExchange.ready(function () {
                $('#nav-tour').click(function () {
                    StackExchange.using("gps", function() {
                        StackExchange.gps.track("aboutpage.click", { aboutclick_location: "headermain" }, true);
                    });
                });
            });
        </script>
</head>
<body class="question-page new-topbar">
    <noscript><div id="noscript-padding"></div></noscript>
    
        <script>(function () { var old = $.fn.contents; $.fn.contents = function () { try { return old.apply(this, arguments); } catch (e) { return $([]); } } })()</script>
        <iframe id="adzerk-user-match" width="0" height="0" frameborder="0" scrolling="no" onload="window.AUMIframeDone=true"
                src="https://ssum-sec.casalemedia.com/usermatch?s=183712&amp;cb=https%3A%2F%2Fengine.adzerk.net%2Fudb%2F22%2Fsync%2Fi.gif%3FpartnerId%3D1%26userId%3D"
                style="display: none;" marginheight="0" marginwidth="0"></iframe>




    <div id="notify-container"></div>
    <div id="overlay-header"></div>
    <div id="custom-header"></div>





<div class="topbar">
    <div class="topbar-wrapper">

        <div class="js-topbar-dialog-corral">


<div class="topbar-dialog siteSwitcher-dialog dno">
    <div class="header">
        <h3><a href="//stackoverflow.com">current community</a></h3>
    </div>
    <div class="modal-content current-site-container">
        <ul class="current-site">
                <li>
                        <div class="related-links">
                    <a href="http://chat.stackoverflow.com" class="js-gps-track"     data-gps-track="site_switcher.click({ item_type:6 })"
>chat</a>
            </div>




    <a href="//stackoverflow.com"
       class="current-site-link site-link js-gps-track"
       data-id="1"
       data-gps-track="
        site_switcher.click({ item_type:3 })">
        <div class="site-icon favicon favicon-stackoverflow" title="Stack Overflow"></div>
        Stack Overflow
    </a>

                </li>
                <li class="related-site">
                        <div class="L-shaped-icon-container">
        <span class="L-shaped-icon"></span>
    </div>

                    



    <a href="http://meta.stackoverflow.com"
       class="site-link js-gps-track"
       data-id="552"
       data-gps-track="
            site.switch({ target_site:552, item_type:3 }),
        site_switcher.click({ item_type:4 })">
        <div class="site-icon favicon favicon-stackoverflowmeta" title="Meta Stack Overflow"></div>
        Meta Stack Overflow
    </a>

                </li>
                            <li class="related-site">
                        <div class="L-shaped-icon-container">
        <span class="L-shaped-icon"></span>
    </div>

                    <a class="site-link js-gps-track"
                       href="//careers.stackoverflow.com?utm_source=stackoverflow.com&amp;utm_medium=site-ui&amp;utm_campaign=multicollider"
                            data-gps-track="site_switcher.click({ item_type:9 })"
>
                        <div class="site-icon favicon favicon-careers" title="Stack Overflow Careers"></div>
                        Stack Overflow Careers
                    </a>
                </li>
        </ul>
    </div>
    <div class="header" id="your-communities-header">
        <h3>
your communities        </h3>
            
    </div>
    <div class="modal-content" id="your-communities-section">
            
            <div class="call-to-login">
<a href="https://stackoverflow.com/users/signup?ssrc=site_switcher&amp;returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f10195343%2fcopy-a-file-in-a-sane-safe-and-efficient-way" class="login-link js-gps-track"     data-gps-track="site_switcher.click({ item_type:10 })"
>Sign up</a> or <a href="https://stackoverflow.com/users/login?ssrc=site_switcher&amp;returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f10195343%2fcopy-a-file-in-a-sane-safe-and-efficient-way" class="login-link js-gps-track"     data-gps-track="site_switcher.click({ item_type:11 })"
>log in</a> to customize your list.
            </div>
    </div>
    <div class="header">
        <h3><a href="//stackexchange.com/sites">more stack exchange communities</a></h3>
        <a href="http://blog.stackoverflow.com" class="fr">company blog</a>
    </div>
    <div class="modal-content">
            <div class="child-content"></div>
    </div>
</div>
        </div>

        <div class="network-items">

            <a href="//stackexchange.com"
               class="topbar-icon icon-site-switcher yes-hover js-site-switcher-button js-gps-track"
               data-gps-track="site_switcher.show"
               title="A list of all 155 Stack Exchange sites">
                <span class="hidden-text">Stack Exchange</span>
            </a>

    <a href="#"
       class="topbar-icon icon-inbox yes-hover js-inbox-button"
       title="Recent inbox messages">
        <span class="hidden-text">Inbox</span>
        <span class="unread-count" style="display:none"></span>
    </a>
    <a href="#"
       class="topbar-icon icon-achievements yes-hover js-achievements-button "
       data-unread-class=""
       title="Recent achievements: reputation, badges, and privileges earned">
        <span class="hidden-text">Reputation and Badges</span>
        <span class="unread-count" style="display:none">
            
        </span>
    </a>
        </div>

        <div class="topbar-links">

                <div class="links-container">
                <span class="topbar-menu-links">
                                    <a href="https://stackoverflow.com/users/signup?ssrc=head&returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f10195343%2fcopy-a-file-in-a-sane-safe-and-efficient-way" class="login-link">sign up</a>
                                <a href="https://stackoverflow.com/users/login?ssrc=head&returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f10195343%2fcopy-a-file-in-a-sane-safe-and-efficient-way" class="login-link">log in</a>

                        <a href="/tour">tour</a>
                            <a href="#" class="icon-help js-help-button" title="Help Center and other resources">
        help
        <span class="triangle"></span>
    </a>
    <div class="topbar-dialog help-dialog js-help-dialog dno">
        <div class="modal-content">
            <ul>
                                    <li>
                        <a href="/tour" class="js-gps-track" data-gps-track="help_popup.click({ item_type:1 })">
                            Tour
                            <span class="item-summary">
                                Start here for a quick overview of the site
                            </span>
                        </a>
                    </li>
                <li>
                    <a href="/help" class="js-gps-track" data-gps-track="help_popup.click({ item_type:4 })">
                        Help Center
                        <span class="item-summary">
                            Detailed answers to any questions you might have
                        </span>
                    </a>
                </li>
                    <li>
                        <a href="//meta.stackoverflow.com" class="js-gps-track" data-gps-track="help_popup.click({ item_type:2 })">
                            Meta
                            <span class="item-summary">
                                Discuss the workings and policies of this site
                            </span>
                        </a>
                    </li>
                <li>
                    <a href="http://stackoverflow.com/company/about" class="js-gps-track" data-gps-track="help_popup.click({ item_type:6 })">
                        About Us
                        <span class="item-summary">
                            Learn more about Stack Overflow the company
                        </span>
                    </a>
                </li>
                <li>
                    <a href="https://business.stackoverflow.com/?ref=topbar_help" class="js-gps-track" data-gps-track="help_popup.click({ item_type:7 })">
                        Business
                        <span class="item-summary">
                            Learn more about hiring developers or posting ads with us
                        </span>
                    </a>
                </li>
            </ul>
        </div>
    </div>

                    </span>
                </div>

            <div class="search-container">
                <form id="search" action="/search" method="get" autocomplete="off">
                    <input name="q" type="text" placeholder="Search Q&amp;A" value="" tabindex="1" autocomplete="off" maxlength="240" />
                </form>
            </div>

        </div>
    </div>
</div>
    <script>
        StackExchange.ready(function() { StackExchange.topbar.init(); });
    </script>

    <div class="container">
        <div id="header">
            <br class="cbt">
            <div id="hlogo">
                <a href="/" >
                    Stack Overflow
                </a>
            </div>
            <div id="hmenus">
                <div class="nav mainnavs">
                    <ul>
                        <li class="youarehere"><a id="nav-questions" href="/questions">Questions</a></li>
                            <li><a id="nav-jobs" href="/jobs">Jobs</a></li>
                        <li><a id="nav-tags" href="/tags">Tags</a></li>
                        <li><a id="nav-users" href="/users">Users</a></li>
                        <li><a id="nav-badges" href="/help/badges">Badges</a></li>
                                            </ul>
                </div>
                <div class="nav askquestion">
                    <ul>
                        <li>
                            <a id="nav-askquestion"  href="/questions/ask">Ask Question</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        



        <div id="content" class="snippet-hidden">
            

<div itemscope itemtype="http://schema.org/Question">
    <link itemprop="image" href="//cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a">

<div id="herobox">
    <div id="hero-content">
            <div id="close"><a title="click to minimize">_</a></div>
        <div id="blurb">
            Stack Overflow is a community of 4.7 million programmers, just like you, helping each other.
            <br/>
                <br/>Join them; it only takes a minute:<br/>
            <br/>
            <a href="/users/signup?ssrc=hero&amp;returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f10195343%2fcopy-a-file-in-a-sane-safe-and-efficient-way" id="tell-me-more" class="button">Sign up</a>
        </div>
        <div id="desc">
            <b>Join the Stack Overflow community to:</b>
            <ol id="hiw">
                <li id="q">Ask programming questions
                </li>
                <li id="an">Answer and help your peers
                </li>
                <li id="b">Get recognized for your expertise
                </li>
            </ol>
        </div>
        <div style="clear: both"></div>
    </div>
    <script>
        StackExchange.ready(function () {

            var location = 0;
            if ($("body").hasClass("questions-page")) {
                location = 1;;
            } else if ($("body").hasClass("question-page")) {
                location = 1;;
            } else if ($("body").hasClass("faq-page")) {
                location = 5;;
            } else if ($("body").hasClass("home-page")) {
                location = 3;;
            }

            $('#tell-me-more').click(function () {
                StackExchange.using("gps", function () {
                    StackExchange.gps.track("hero.action", { hero_action_type: 'cta', location: location }, true);
                });
            });
            $('#herobox #close').click(function () {
                StackExchange.using("gps", function () {
                    StackExchange.gps.track("hero.action", { hero_action_type: "minimize", location: location }, true);
                });
                $.cookie("hero", "mini", { path: "/", expires: 365 });
                $.ajax({
                    url: "/hero-mini",
                    success: function (data) {
                        $("#herobox").fadeOut("fast", function () {
                            $("#herobox").replaceWith(data);
                            $("#herobox-mini").fadeIn("fast");
                        });
                    }
                });
                return false;
            });
        });

    </script>
</div>
			<div id="question-header">
                <h1 itemprop="name"><a href="/questions/10195343/copy-a-file-in-a-sane-safe-and-efficient-way" class="question-hyperlink">Copy a file in a sane, safe and efficient way</a></h1>
		</div>
			<div id="mainbar">

			

<div class="question" data-questionid="10195343"  id="question">

    <script>
                var ados = ados || {}; ados.run = ados.run || [];
                ados.run.push(function () { ados_add_placement(22,8277,"adzerk2089473659",4).setZone(43); });
            </script>
            <div class="everyonelovesstackoverflow" id="adzerk2089473659">
            </div>    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="10195343">
        <a class="vote-up-off" title="This question shows research effort; it is useful and clear">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">169</span>
        <a class="vote-down-off" title="This question does not show any research effort; it is unclear or not useful">down vote</a>

        <a class="star-off" href="#">favorite</a>
        <div class="favoritecount"><b>86</b></div>


</div>

            </td>
            
<td class="postcell">
<div>
    <div class="post-text" itemprop="text">

<p>I search for a good way to copy a file (binary or text). I've written several samples, everyone works. But I want hear the opinion of seasoned programmers.</p>

<p>I missing good examples and search a way which works with C++.</p>

<p><strong>ANSI-C-WAY</strong></p>

<pre><code>#include &lt;iostream&gt;
#include &lt;cstdio&gt;    // fopen, fclose, fread, fwrite, BUFSIZ
#include &lt;ctime&gt;
using namespace std;

int main() {
    clock_t start, end;
    start = clock();

    // BUFSIZE default is 8192 bytes
    // BUFSIZE of 1 means one chareter at time
    // good values should fit to blocksize, like 1024 or 4096
    // higher values reduce number of system calls
    // size_t BUFFER_SIZE = 4096;

    char buf[BUFSIZ];
    size_t size;

    FILE* source = fopen("from.ogv", "rb");
    FILE* dest = fopen("to.ogv", "wb");

    // clean and more secure
    // feof(FILE* stream) returns non-zero if the end of file indicator for stream is set

    while (size = fread(buf, 1, BUFSIZ, source)) {
        fwrite(buf, 1, size, dest);
    }

    fclose(source);
    fclose(dest);

    end = clock();

    cout &lt;&lt; "CLOCKS_PER_SEC " &lt;&lt; CLOCKS_PER_SEC &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME START " &lt;&lt; start &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME END " &lt;&lt; end &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME END - START " &lt;&lt; end - start &lt;&lt; "\n";
    cout &lt;&lt; "TIME(SEC) " &lt;&lt; static_cast&lt;double&gt;(end - start) / CLOCKS_PER_SEC &lt;&lt; "\n";

    return 0;
}
</code></pre>

<p><strong>POSIX-WAY</strong> (K&amp;R use this in "The C programming language", more low-level)</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;fcntl.h&gt;   // open
#include &lt;unistd.h&gt;  // read, write, close
#include &lt;cstdio&gt;    // BUFSIZ
#include &lt;ctime&gt;
using namespace std;

int main() {
    clock_t start, end;
    start = clock();

    // BUFSIZE defaults to 8192
    // BUFSIZE of 1 means one chareter at time
    // good values should fit to blocksize, like 1024 or 4096
    // higher values reduce number of system calls
    // size_t BUFFER_SIZE = 4096;

    char buf[BUFSIZ];
    size_t size;

    int source = open("from.ogv", O_RDONLY, 0);
    int dest = open("to.ogv", O_WRONLY | O_CREAT /*| O_TRUNC/**/, 0644);

    while ((size = read(source, buf, BUFSIZ)) &gt; 0) {
        write(dest, buf, size);
    }

    close(source);
    close(dest);

    end = clock();

    cout &lt;&lt; "CLOCKS_PER_SEC " &lt;&lt; CLOCKS_PER_SEC &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME START " &lt;&lt; start &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME END " &lt;&lt; end &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME END - START " &lt;&lt; end - start &lt;&lt; "\n";
    cout &lt;&lt; "TIME(SEC) " &lt;&lt; static_cast&lt;double&gt;(end - start) / CLOCKS_PER_SEC &lt;&lt; "\n";

    return 0;
}
</code></pre>

<p><strong>KISS-C++-Streambuffer-WAY</strong></p>

<pre><code>#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;ctime&gt;
using namespace std;

int main() {
    clock_t start, end;
    start = clock();

    ifstream source("from.ogv", ios::binary);
    ofstream dest("to.ogv", ios::binary);

    dest &lt;&lt; source.rdbuf();

    source.close();
    dest.close();

    end = clock();

    cout &lt;&lt; "CLOCKS_PER_SEC " &lt;&lt; CLOCKS_PER_SEC &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME START " &lt;&lt; start &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME END " &lt;&lt; end &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME END - START " &lt;&lt;  end - start &lt;&lt; "\n";
    cout &lt;&lt; "TIME(SEC) " &lt;&lt; static_cast&lt;double&gt;(end - start) / CLOCKS_PER_SEC &lt;&lt; "\n";

    return 0;
}
</code></pre>

<p><strong>COPY-ALGORITHM-C++-WAY</strong></p>

<pre><code>#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;ctime&gt;
#include &lt;algorithm&gt;
#include &lt;iterator&gt;
using namespace std;

int main() {
    clock_t start, end;
    start = clock();

    ifstream source("from.ogv", ios::binary);
    ofstream dest("to.ogv", ios::binary);

    istreambuf_iterator&lt;char&gt; begin_source(source);
    istreambuf_iterator&lt;char&gt; end_source;
    ostreambuf_iterator&lt;char&gt; begin_dest(dest); 
    copy(begin_source, end_source, begin_dest);

    source.close();
    dest.close();

    end = clock();

    cout &lt;&lt; "CLOCKS_PER_SEC " &lt;&lt; CLOCKS_PER_SEC &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME START " &lt;&lt; start &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME END " &lt;&lt; end &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME END - START " &lt;&lt;  end - start &lt;&lt; "\n";
    cout &lt;&lt; "TIME(SEC) " &lt;&lt; static_cast&lt;double&gt;(end - start) / CLOCKS_PER_SEC &lt;&lt; "\n";

    return 0;
}
</code></pre>

<p><strong>OWN-BUFFER-C++-WAY</strong></p>

<pre><code>#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;ctime&gt;
using namespace std;

int main() {
    clock_t start, end;
    start = clock();

    ifstream source("from.ogv", ios::binary);
    ofstream dest("to.ogv", ios::binary);

    // file size
    source.seekg(0, ios::end);
    ifstream::pos_type size = source.tellg();
    source.seekg(0);
    // allocate memory for buffer
    char* buffer = new char[size];

    // copy file    
    source.read(buffer, size);
    dest.write(buffer, size);

    // clean up
    delete[] buffer;
    source.close();
    dest.close();

    end = clock();

    cout &lt;&lt; "CLOCKS_PER_SEC " &lt;&lt; CLOCKS_PER_SEC &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME START " &lt;&lt; start &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME END " &lt;&lt; end &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME END - START " &lt;&lt;  end - start &lt;&lt; "\n";
    cout &lt;&lt; "TIME(SEC) " &lt;&lt; static_cast&lt;double&gt;(end - start) / CLOCKS_PER_SEC &lt;&lt; "\n";

    return 0;
}
</code></pre>

<p><strong>LINUX-WAY</strong> // requires kernel >= 2.6.33</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;sys/sendfile.h&gt;  // sendfile
#include &lt;fcntl.h&gt;         // open
#include &lt;unistd.h&gt;        // close
#include &lt;sys/stat.h&gt;      // fstat
#include &lt;sys/types.h&gt;     // fstat
#include &lt;ctime&gt;
using namespace std;

int main() {
    clock_t start, end;
    start = clock();

    int source = open("from.ogv", O_RDONLY, 0);
    int dest = open("to.ogv", O_WRONLY | O_CREAT /*| O_TRUNC/**/, 0644);

    // struct required, rationale: function stat() exists also
    struct stat stat_source;
    fstat(source, &amp;stat_source);

    sendfile(dest, source, 0, stat_source.st_size);

    close(source);
    close(dest);

    end = clock();

    cout &lt;&lt; "CLOCKS_PER_SEC " &lt;&lt; CLOCKS_PER_SEC &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME START " &lt;&lt; start &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME END " &lt;&lt; end &lt;&lt; "\n";
    cout &lt;&lt; "CPU-TIME END - START " &lt;&lt;  end - start &lt;&lt; "\n";
    cout &lt;&lt; "TIME(SEC) " &lt;&lt; static_cast&lt;double&gt;(end - start) / CLOCKS_PER_SEC &lt;&lt; "\n";

    return 0;
}
</code></pre>

<p><strong>Environment</strong>  </p>

<ul>
<li>GNU/LINUX (Archlinux)</li>
<li>Kernel 3.3</li>
<li>GLIBC-2.15, LIBSTDC++ 4.7 (GCC-LIBS), GCC 4.7, Coreutils 8.16</li>
<li>Using RUNLEVEL 3 (Multiuser, Network, Terminal, no GUI)</li>
<li>INTEL SSD-Postville 80 GB, filled up to 50%  </li>
<li>Copy a 270 MB OGG-VIDEO-FILE  </li>
</ul>

<p><strong>Steps to reproduce</strong> </p>

<pre><code> 1. $ rm from.ogg
 2. $ reboot                           # kernel and filesystem buffers are in regular
 3. $ (time ./program) &amp;&gt;&gt; report.txt  # executes program, redirects output of program and append to file
 4. $ sha256sum *.ogv                  # checksum
 5. $ rm to.ogg                        # remove copy, but no sync, kernel and fileystem buffers are used
 6. $ (time ./program) &amp;&gt;&gt; report.txt  # executes program, redirects output of program and append to file
</code></pre>

<p><strong>Results (CPU TIME used)</strong>  </p>

<pre><code>Program  Description                 UNBUFFERED|BUFFERED
ANSI C   (fread/frwite)                 490,000|260,000  
POSIX    (K&amp;R, read/write)              450,000|230,000  
FSTREAM  (KISS, Streambuffer)           500,000|270,000 
FSTREAM  (Algorithm, copy)              500,000|270,000
FSTREAM  (OWN-BUFFER)                   500,000|340,000  
SENDFILE (native LINUX, sendfile)       410,000|200,000  
</code></pre>

<p>Filesize doesn't change.<br>
sha256sum print the same results.<br>
The video file is still playable.  </p>

<p><strong>Questions</strong></p>

<ul>
<li>What method would you prefer?</li>
<li>Do you know better solutions?</li>
<li>Do you see any mistakes in my code?</li>
<li><p>Do you know a reason to avoid a solution?</p></li>
<li><p>FSTREAM (KISS, Streambuffer)<br>
I really like this one, because it is really short and simple. As far is I know the operator &lt;&lt; is overloaded for rdbuf() and doesn't convert anything. Correct?</p></li>
</ul>

<p>Thanks</p>

<p><strong>Update 1</strong><br>
I changed the source in all samples in that way, that the open and close of the file descriptors is include in the measurement of <em>clock()</em>. Their are no other significant changes in the source code. The results doesn't changed! I also used <em>time</em> to double-check my results.  </p>

<p><strong>Update 2</strong><br>
ANSI C sample changed: The condition of the <em>while-loop</em> doesn't call any longer <em>feof()</em> instead I moved <em>fread()</em> into the condition. It looks like, the code runs now 10,000 clocks faster.  </p>

<p>Measurement changed: The former results were always buffered, because I repeated the old command line <em>rm to.ogv &amp;&amp; sync &amp;&amp; time ./program</em> for each program a few times. Now I reboot the system for every program. The unbuffered results are new and show no surprise. The unbuffered results didn't changed really.</p>

<p>If i don't delete the old copy, the programs react different. Overwriting a existing file <em>buffered</em> is faster with POSIX and SENDFILE, all other programs are slower. Maybe the options <em>truncate</em> or <em>create</em> have a impact on this behaviour. But overwriting existing files with the same copy is not a real world use-case.  </p>

<p>Performing the copy with <em>cp</em> takes 0.44 seconds unbuffered und 0.30 seconds buffered. So <em>cp</em> is a little bit slower than the POSIX sample. Looks fine for me.  </p>

<p>Maybe I add also samples and results of <em>mmap()</em> and <em><code>copy_file()</code></em> from boost::filesystem.</p>

<p><strong>Update 3</strong><br>
I've put this also on a blog page and extended it a little bit. Including <em>splice()</em>, which is a low-level function from the Linux kernel. Maybe more samples with Java will follow.
<a href="http://www.ttyhoney.com/blog/?page_id=69">http://www.ttyhoney.com/blog/?page_id=69</a></p>
    </div>
    <div class="post-taglist">
        <a href="/questions/tagged/c%2b%2b" class="post-tag" title="show questions tagged &#39;c++&#39;" rel="tag">c++</a> <a href="/questions/tagged/file-io" class="post-tag" title="show questions tagged &#39;file-io&#39;" rel="tag">file-io</a> 
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/q/10195343" title="short permalink to this question" class="short-link" id="link-post-10195343">share</a><span class="lsep">|</span><a href="/posts/10195343/edit" class="suggest-edit-post" title="">improve this question</a></div>        
    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/10195343/revisions" title="show all edits to this post">edited <span title="2015-07-08 05:23:35Z" class="relativetime">Jul 8 '15 at 5:23</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
    <td class="post-signature">
        <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Apr 23 &#39;12 at 10:36. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-10195343" href="/posts/10195343/revisions" title="show revision history for this post">
        20 revs, 8 users 81%<br><a href="/users/1054324">Peter</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</div>
</td>
        </tr>
                
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-10195343" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="9"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-13089067" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy"><code>fstream</code> definitely is a good option for file operations.</span>
                    &ndash;&nbsp;<a href="/users/962089/chris"
                       title="36,038 reputation"
                       class="comment-user">chris</a>
                <span class="comment-date" dir="ltr"><span title="2012-04-17 16:40:50Z" class="relativetime-clean">Apr 17 '12 at 16:40</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-13089094" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">1</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy"><a href="http://www.richelbilderbeek.nl/CppCopy_file.htm" rel="nofollow">richelbilderbeek.nl/CppCopy_file.htm</a></span>
                    &ndash;&nbsp;<a href="/users/206328/anycorn"
                       title="23,928 reputation"
                       class="comment-user">Anycorn</a>
                <span class="comment-date" dir="ltr"><span title="2012-04-17 16:41:37Z" class="relativetime-clean">Apr 17 '12 at 16:41</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-13089213" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">14</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">You forgot the lazy way: system(&quot;cp from.ogv to.ogv&quot;);</span>
                    &ndash;&nbsp;<a href="/users/467411/fbafelipe"
                       title="3,395 reputation"
                       class="comment-user">fbafelipe</a>
                <span class="comment-date" dir="ltr"><span title="2012-04-17 16:45:33Z" class="relativetime-clean">Apr 17 '12 at 16:45</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-13089423" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">2</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy"><code>#include &lt;copyfile.h&gt; copyfile(const char *from, const char *to, copyfile_state_t state, copyfile_flags_t flags);</code></span>
                    &ndash;&nbsp;<a href="/users/14065/loki-astari"
                       title="148,925 reputation"
                       class="comment-user">Loki Astari</a>
                <span class="comment-date" dir="ltr"><span title="2012-04-17 16:53:43Z" class="relativetime-clean">Apr 17 '12 at 16:53</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-13089704" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">1</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Why are you only taking the time to copy the files, and not the open/close time?  If you&#39;re doing a number of iterations of this, the startup/shutdown time for each time you copy something could matter quite a lot.</span>
                    &ndash;&nbsp;<a href="/users/83839/kevin-anderson"
                       title="3,424 reputation"
                       class="comment-user">Kevin Anderson</a>
                <span class="comment-date" dir="ltr"><span title="2012-04-17 17:05:14Z" class="relativetime-clean">Apr 17 '12 at 17:05</span></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-10195343" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link  dno"
                   title="Use comments to ask for more information or suggest improvements. Avoid answering questions in comments."
                   ></a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>9</b> more comments</a>
        </div>         
    </td>
</tr>        </table>
</div>

			<div id="answers">

				<a name="tab-top"></a>
				<div id="answers-header">
					<div class="subheader answers-subheader">
						<h2>
								3 Answers
                                <span style="display:none;" itemprop="answerCount">3</span>
						</h2>
						<div>
							<div id="tabs">
        <a class="youarehere" href="/questions/10195343/copy-a-file-in-a-sane-safe-and-efficient-way?answertab=active#tab-top" data-nav-xhref="" title="Answers with the latest activity first" data-value="active">
            active</a>
        <a href="/questions/10195343/copy-a-file-in-a-sane-safe-and-efficient-way?answertab=oldest#tab-top" data-nav-xhref="" title="Answers in the order they were provided" data-value="oldest">
            oldest</a>
        <a href="/questions/10195343/copy-a-file-in-a-sane-safe-and-efficient-way?answertab=votes#tab-top" data-nav-xhref="" title="Answers with the highest score first" data-value="votes">
            votes</a>
</div>
						</div>
					</div>    
				</div>    




  
<a name="10195497"></a>
<div id="answer-10195497" class="answer accepted-answer" data-answerid="10195497"  itemscope itemtype="http://schema.org/Answer" itemprop="acceptedAnswer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="10195497">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">135</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>



        <span class="vote-accepted-on load-accepted-answer-date" title="loading when this answer was accepted...">accepted</span>

</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>Copy a file in a sane way:</p>

<pre><code> int main()
 {
     std::ifstream  src("from.ogv", std::ios::binary);
     std::ofstream  dst("to.ogv",   std::ios::binary);

     dst &lt;&lt; src.rdbuf();
 }
</code></pre>

<p>This is so simple and intuitive to read it is worth the extra cost. If we were doing it a lot, better to fall back on OS calls to the file system. I am sure <code>boost</code> has a copy file method in its filesystem class. </p>

<p>There is a C method for interacting with the file system:</p>

<pre><code> #include &lt;copyfile.h&gt;

 int
 copyfile(const char *from, const char *to, copyfile_state_t state, copyfile_flags_t flags);
</code></pre>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/10195497" title="short permalink to this answer" class="short-link" id="link-post-10195497">share</a><span class="lsep">|</span><a href="/posts/10195497/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/10195497/revisions" title="show all edits to this post">edited <span title="2015-07-08 05:32:15Z" class="relativetime">Jul 8 '15 at 5:32</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/514235/iammilind"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/73c478b60c371abe43bb7ac15ff3666d?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/514235/iammilind">iammilind</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 35,520" dir="ltr">35.5k</span><span title="11 gold badges"><span class="badge1"></span><span class="badgecount">11</span></span><span title="85 silver badges"><span class="badge2"></span><span class="badgecount">85</span></span><span title="178 bronze badges"><span class="badge3"></span><span class="badgecount">178</span></span>
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2012-04-17 16:49:38Z" class="relativetime">Apr 17 '12 at 16:49</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/14065/loki-astari"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/yaNYe.jpg?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/14065/loki-astari">Loki Astari</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 148,925" dir="ltr">149k</span><span title="40 gold badges"><span class="badge1"></span><span class="badgecount">40</span></span><span title="213 silver badges"><span class="badge2"></span><span class="badgecount">213</span></span><span title="387 bronze badges"><span class="badge3"></span><span class="badgecount">387</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-10195497" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="17"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-13090396" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="hot">16</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy"><code>copyfile</code> is not portable; I think it&#39;s specific to Mac OS X. It certainly doesn&#39;t exist on Linux. <code>boost::filesystem::copy_file</code> is probably the most portable way to copy a file via the native file system.</span>
                    &ndash;&nbsp;<a href="/users/204847/mike-seymour"
                       title="183,747 reputation"
                       class="comment-user">Mike Seymour</a>
                <span class="comment-date" dir="ltr"><span title="2012-04-17 17:35:09Z" class="relativetime-clean">Apr 17 '12 at 17:35</span></span>
                    <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-13090711" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@MikeSeymour: copyfile() seems to be a BSD extension.</span>
                    &ndash;&nbsp;<a href="/users/14065/loki-astari"
                       title="148,925 reputation"
                       class="comment-user">Loki Astari</a>
                <span class="comment-date" dir="ltr"><span title="2012-04-17 17:47:34Z" class="relativetime-clean">Apr 17 '12 at 17:47</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-24693097" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@duedl0r: No. Objects have destructors. The destructor for streams automatically call close(). <a href="http://codereview.stackexchange.com/q/540/507">codereview.stackexchange.com/q/540/507</a></span>
                    &ndash;&nbsp;<a href="/users/14065/loki-astari"
                       title="148,925 reputation"
                       class="comment-user">Loki Astari</a>
                <span class="comment-date" dir="ltr"><span title="2013-06-12 19:48:45Z" class="relativetime-clean">Jun 12 '13 at 19:48</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-24722018" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">4</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@duedl0r: Yes. But that&#39;s like saying &quot;if the sun sets&quot;. You can run really fast west and you may make your day slightly longer but the sun is going to set. Unless you have bug and leak memory (it will go out of scope). But since there is no dynamic memory management here there can not be a leak and they will go out of scope (just like the sun will set).</span>
                    &ndash;&nbsp;<a href="/users/14065/loki-astari"
                       title="148,925 reputation"
                       class="comment-user">Loki Astari</a>
                <span class="comment-date" dir="ltr"><span title="2013-06-13 15:29:30Z" class="relativetime-clean">Jun 13 '13 at 15:29</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-47280576" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Then simply wrap it in a { } scope block</span>
                    &ndash;&nbsp;<a href="/users/1124744/paulm"
                       title="2,321 reputation"
                       class="comment-user">paulm</a>
                <span class="comment-date" dir="ltr"><span title="2015-04-10 15:42:06Z" class="relativetime-clean">Apr 10 '15 at 15:42</span></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-10195497" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link  dno"
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   ></a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>17</b> more comments</a>
        </div>         
    </td>
</tr>    </table>
</div>
<script>
                var ados = ados || {}; ados.run = ados.run || [];
                ados.run.push(function () { ados_add_placement(22,8277,"adzerk921148225",4).setZone(44); });
            </script>
            <div class="everyonelovesstackoverflow" id="adzerk921148225">
            </div>
  
<a name="35699679"></a>
<div id="answer-35699679" class="answer" data-answerid="35699679"  itemscope itemtype="http://schema.org/Answer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="35699679">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">2</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>I want to make the <em>very</em> important note that the LINUX method using sendfile() has a major problem in that it can not copy files more than 2GB in size! I had implemented it following this question and was hitting problems because I was using it to copy HDF5 files that were many GB in size.</p>

<p><a href="http://man7.org/linux/man-pages/man2/sendfile.2.html" rel="nofollow">http://man7.org/linux/man-pages/man2/sendfile.2.html</a></p>

<blockquote>
  <p>sendfile() will transfer at most 0x7ffff000 (2,147,479,552) bytes,
  returning the number of bytes actually transferred.  (This is true on
  both 32-bit and 64-bit systems.)</p>
</blockquote>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/35699679" title="short permalink to this answer" class="short-link" id="link-post-35699679">share</a><span class="lsep">|</span><a href="/posts/35699679/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        answered <a href="/posts/35699679/revisions" title="show all edits to this post"><span title="2016-02-29 12:33:40Z" class="relativetime">Feb 29 at 12:33</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Feb 29 at 12:33. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-35699679" href="/posts/35699679/revisions" title="show revision history for this post">
        rveale
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-35699679" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-60479792" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">does sendfile64() have same problem?</span>
                    &ndash;&nbsp;<a href="/users/781743/paladin"
                       title="1,324 reputation"
                       class="comment-user">Paladin</a>
                <span class="comment-date" dir="ltr"><span title="2016-04-05 17:04:55Z" class="relativetime-clean">Apr 5 at 17:04</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-60544593" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@Paladin It seems that sendfile64 was developed to get around this limitation. From the man page:  &quot;&quot;&quot;The original Linux sendfile() system call was not designed to handle large file offsets. Consequently, Linux 2.4 added sendfile64(), with a wider type for the offset argument. The glibc sendfile() wrapper function transparently deals with the kernel differences.&quot;&quot;&quot;</span>
                    &ndash;&nbsp;<a href="/users/3118421/rveale"
                       title="43 reputation"
                       class="comment-user">rveale</a>
                <span class="comment-date" dir="ltr"><span title="2016-04-07 04:26:21Z" class="relativetime-clean">Apr 7 at 4:26</span></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-35699679" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link disabled-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   >add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </td>
</tr>    </table>
</div>

  
<a name="10195537"></a>
<div id="answer-10195537" class="answer" data-answerid="10195537"  itemscope itemtype="http://schema.org/Answer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="10195537">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">11</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>Too many!</p>

<p>The "ANSI C" way buffer is redundant, since a <code>FILE</code> is already buffered. (The size of this internal buffer is what <code>BUFSIZ</code> actually defines.)</p>

<p>The "OWN-BUFFER-C++-WAY" will be slow as it goes through <code>fstream</code>, which does a lot of virtual dispatching, and again maintains internal buffers or each stream object. (The "COPY-ALGORITHM-C++-WAY" does not suffer this, as the <code>streambuf_iterator</code> class bypasses the stream layer.)</p>

<p>I prefer the "COPY-ALGORITHM-C++-WAY", but without constructing an <code>fstream</code>, just create bare <code>std::filebuf</code> instances when no actual formatting is needed.</p>

<p>For raw performance, you can't beat POSIX file descriptors. It's ugly but portable and fast on any platform.</p>

<p>The Linux way appears to be incredibly fast — perhaps the OS let the function return before I/O was finished? In any case, that's not portable enough for many applications.</p>

<p><strong>EDIT</strong>: Ah, "native Linux" may be improving performance by interleaving reads and writes with asynchronous I/O. Letting commands pile up can help the disk driver decide when is best to seek. You might try Boost Asio or pthreads for comparison. As for "can't beat POSIX file descriptors"… well that's true if you're doing anything with the data, not just blindly copying.</p>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/10195537" title="short permalink to this answer" class="short-link" id="link-post-10195537">share</a><span class="lsep">|</span><a href="/posts/10195537/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/10195537/revisions" title="show all edits to this post">edited <span title="2012-04-17 17:08:42Z" class="relativetime">Apr 17 '12 at 17:08</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2012-04-17 16:52:09Z" class="relativetime">Apr 17 '12 at 16:52</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/153285/potatoswatter"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/8854a441d1fd8518cd87c2429fed15ef?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/153285/potatoswatter">Potatoswatter</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 89,084" dir="ltr">89.1k</span><span title="7 gold badges"><span class="badge1"></span><span class="badgecount">7</span></span><span title="141 silver badges"><span class="badge2"></span><span class="badgecount">141</span></span><span title="282 bronze badges"><span class="badge3"></span><span class="badgecount">282</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-10195537" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-13089606" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">ANSI C: But I have to give the function fread/fwrite a size? <a href="http://pubs.opengroup.org/onlinepubs/9699919799/toc.htm" rel="nofollow">pubs.opengroup.org/onlinepubs/9699919799/toc.htm</a></span>
                    &ndash;&nbsp;<a href="/users/1054324/peter"
                       title="667 reputation"
                       class="comment-user owner">Peter</a>
                <span class="comment-date" dir="ltr"><span title="2012-04-17 17:00:29Z" class="relativetime-clean">Apr 17 '12 at 17:00</span></span>
                    <span class="edited-yes" title="this comment was edited 2 times"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-13089664" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@PeterWeber Well, yes, it&#39;s true that BUFSIZ is as good a value as any, and will probably speed things up relative to one or &quot;just a few&quot; characters at a time. Anyway, the performance measurement bears out that it&#39;s not the best method in any case.</span>
                    &ndash;&nbsp;<a href="/users/153285/potatoswatter"
                       title="89,084 reputation"
                       class="comment-user">Potatoswatter</a>
                <span class="comment-date" dir="ltr"><span title="2012-04-17 17:03:01Z" class="relativetime-clean">Apr 17 '12 at 17:03</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-13095680" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">1</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">I have not a in-depth understanding of this, so I should be careful with assumptions and opinions. Linux-Way runs in Kernelspace afaik. This should avoid slow Context-Switching between Kernelspace and Userspace? Tomorrow I will take again a look at the manpage of sendfile. A while ago Linus Torvalds said he doesn&#39;t like Userspace-Filesystems for heavy jobs. Maybe sendfile is a positive example for his view?</span>
                    &ndash;&nbsp;<a href="/users/1054324/peter"
                       title="667 reputation"
                       class="comment-user owner">Peter</a>
                <span class="comment-date" dir="ltr"><span title="2012-04-17 21:05:41Z" class="relativetime-clean">Apr 17 '12 at 21:05</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-17291714" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">5</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">&quot;<code>sendfile()</code> copies data between one file descriptor and another.  Because this copying is done within the kernel, <code>sendfile()</code> is more efficient than the combination of <code>read(2)</code> and <code>write(2)</code>, which would require transferring data to and from user space.&quot;:  <a href="http://www.kernel.org/doc/man-pages/online/pages/man2/sendfile.2.html" rel="nofollow">kernel.org/doc/man-pages/online/pages/man2/sendfile.2.html</a></span>
                    &ndash;&nbsp;<a href="/users/10593/max-lybbert"
                       title="13,851 reputation"
                       class="comment-user">Max Lybbert</a>
                <span class="comment-date" dir="ltr"><span title="2012-10-08 21:52:51Z" class="relativetime-clean">Oct 8 '12 at 21:52</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-35987061" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Could you post an example of using raw <code>filebuf</code> objects?</span>
                    &ndash;&nbsp;<a href="/users/596781/kerrek-sb"
                       title="265,485 reputation"
                       class="comment-user">Kerrek SB</a>
                <span class="comment-date" dir="ltr"><span title="2014-05-05 12:25:16Z" class="relativetime-clean">May 5 '14 at 12:25</span></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-10195537" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link disabled-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   >add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </td>
</tr>    </table>
</div>
									<a name='new-answer'></a>
						<form id="post-form" action="/questions/10195343/answer/submit" method="post"  class="post-form">
						    <input type="hidden" id="post-id" value="10195343" />
                            <input type="hidden" id="qualityBanWarningShown" name="qualityBanWarningShown" value="false" />
                            <input type="hidden" name="referrer" value="http://stackoverflow.com/questions/12766636/difference-in-using-read-write-when-stream-is-opened-with-without-iosbinary-mo"/>
							<h2 class="space">Your Answer</h2>


            <script>
            StackExchange.ifUsing("editor", function () {
                StackExchange.using("externalEditor", function () {
                    StackExchange.using("snippets", function () {
                        StackExchange.snippets.init();
                    });
                });
            }, "code-snippets");
        </script>
    

<script>
    StackExchange.ready(function() {
        initTagRenderer("".split(" "), "".split(" "));
       
        StackExchange.using("externalEditor", function() {
                // Have to fire editor after snippets, if snippets enabled
                if (StackExchange.options.snippets.enabled) {
                    StackExchange.using("snippets", function() {
                        createEditor();
                    });
                }
                else {
                    createEditor();
                }
            });

            function createEditor() {
                prepareEditor({
                    heartbeatType: 'answer',
                convertImagesToLinks: true,
                reputationToPostImages: 10,
                bindNavPrevention: true,
                postfix: "",
                    onDemand: true,
                    discardSelector: ".discard-answer"
                    ,immediatelyShowMarkdownHelp:true
                    });
                

        }
    });  
</script>


<div id="post-editor" class="post-editor js-post-editor">

    <div style="position: relative;">     
        <div class="wmd-container">
            <div id="wmd-button-bar" class="wmd-button-bar"></div>
            <textarea id="wmd-input" class="wmd-input" name="post-text" cols="92" rows="15" tabindex="101" data-min-length=""></textarea>
        </div>
    </div>

    <div class="fl" style="margin-top: 8px; height:24px;">&nbsp;</div>
    <div id="draft-saved" class="draft-saved community-option fl" style="margin-top: 8px; height:24px; display:none;">draft saved</div>

    <div id="draft-discarded" class="draft-discarded community-option fl" style="margin-top: 8px; height:24px; display:none;">draft discarded</div>



    <div id="wmd-preview" class="wmd-preview"></div>
    <div></div>
    <div class="edit-block">
        <input id="fkey" name="fkey" type="hidden" value="a13af72b54e2677d414be5d78af7b54f">
        <input id="author" name="author" type="text">
    </div>



</div>
							<div style="position: relative;">
								
								            <div class="form-item dno new-post-login">
        
                <div class="new-login-form">
                    <div class="new-login-left">
                        <h3>Sign up or <a id="login-link" href="/users/login?ssrc=question_page&returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f10195343%2fcopy-a-file-in-a-sane-safe-and-efficient-way%23new-answer">log in</a></h3>
                        <script>
                            StackExchange.ready(function () {
                                StackExchange.helpers.onClickDraftSave('#login-link');
                            });
                        </script>
                        <div class="preferred-login google-login">
                            <p><span class="icon"></span><span>Sign up using Google</span></p>
                        </div>
                        <div class="preferred-login facebook-login">
                            <p><span class="icon"></span><span>Sign up using Facebook</span></p>
                        </div>
                        <div class="preferred-login stackexchange-login">
                            <p><span class="icon"></span><span>Sign up using Email and Password</span></p>
                        </div>
                    </div>
                    <input type="hidden" name="manual-openid" class="manual-openid" />
                    <input type="hidden" name="use-facebook" class="use-facebook" value="false" />
                    <input type="hidden" name="use-google" class="use-google" value="false" />
                    <input type="button" class="submit-openid" value="Submit" style="display:none" />
                    <div class="new-login-right">
                                <h3>Post as a guest</h3>
    <div class="form-item">
        <table>
        <tr>
                    <td class="vm">
                <div>
                    <label for="display-name">Name</label>
                    <input id="display-name" name="display-name" type="text" size="30" maxlength="30" value="" tabindex="105">
                </div>
                <div>
                    <label for="m-address">Email</label>
                    <input id="m-address" name="m-address" type="email" size="30" maxlength="100" value="" tabindex="106" placeholder="required, but never shown" />
                </div>
            </td>
        </tr>
        </table>
    </div>

                    </div>
                </div>
            </div>
            <script>
                StackExchange.ready(
                    function () {
                        StackExchange.openid.initPostLogin('.new-post-login', 'http%3a%2f%2fstackoverflow.com%2fquestions%2f10195343%2fcopy-a-file-in-a-sane-safe-and-efficient-way%23new-answer', 'question_page');
                    }
                );
            </script>
            <noscript>
                        <h3>Post as a guest</h3>
    <div class="form-item">
        <table>
        <tr>
                    <td class="vm">
                <div>
                    <label for="display-name">Name</label>
                    <input id="display-name" name="display-name" type="text" size="30" maxlength="30" value="" tabindex="105">
                </div>
                <div>
                    <label for="m-address">Email</label>
                    <input id="m-address" name="m-address" type="email" size="30" maxlength="100" value="" tabindex="106" placeholder="required, but never shown" />
                </div>
            </td>
        </tr>
        </table>
    </div>

            </noscript>

							</div>
           
															<div class="form-submit cbt">
									<input id="submit-button" type="submit" value="Post Your Answer" tabindex="110">
									<a href="#" class="btn-clear discard-answer dno">discard</a>

<p class="privacy-policy-agreement">
By posting your answer, you agree to the <a href='http://stackexchange.com/legal/privacy-policy' target='_blank'>privacy policy</a> and <a href='http://stackexchange.com/legal/terms-of-service' target='_blank'>terms of service</a>.</p>
<input type="hidden" name="legalLinksShown" value="1" />								</div>
						</form>



						<h2 class="bottom-notice" data-loc="1">
Not the answer you&#39;re looking for?							Browse other questions tagged <a href="/questions/tagged/c%2b%2b" class="post-tag" title="show questions tagged &#39;c++&#39;" rel="tag">c++</a> <a href="/questions/tagged/file-io" class="post-tag" title="show questions tagged &#39;file-io&#39;" rel="tag">file-io</a>  or <a href="/questions/ask">ask your own question</a>.						</h2>
			</div>
		</div>
				<div id="sidebar" class="show-votes">
						    <div class="module question-stats">
			        <table id="qinfo">
			            <tr>
			                <td>
			                    <p class="label-key">asked</p>
			                </td>
			                <td style="padding-left: 10px">
			                    <p class="label-key" title="2012-04-17 16:38:33Z"><b>4 years ago</b></p>
			                </td>
			            </tr>
			            <tr>
			                <td>
			                    <p class="label-key">viewed</p>
			                </td>

			                <td style="padding-left: 10px">
			                    <p class="label-key">
			                        <b>92550 times</b>
			                    </p>
			                </td>
			            </tr>
			                <tr>
			                    <td>
			                        <p class="label-key">active</p>
			                    </td>
			                    <td style="padding-left: 10px">
			                        <p class="label-key"><b><a href="?lastactivity" class="lastactivity-link" title="2016-02-29 12:33:40Z">2 months ago</a></b></p>
			                    </td>
			                </tr>
			        </table>
			    </div>
			<div class="module community-bulletin" data-tracker="cb=1">
    <div class="related">
                <div class="bulletin-title">
                    Blog
                </div>
                <hr />
    <div class="spacer">
        <div class="bulletin-item-type">
                <a href="http://blog.stackoverflow.com/2016/05/welcoming-stack-overflows-new-cmo-adrianna-burrows/" class="question-hyperlink">
<div class="favicon favicon-stackexchangemeta" title="Meta Stack Exchange"></div>                </a>
            </div>
                <div class="bulletin-item-content">
                    <a href="http://blog.stackoverflow.com/2016/05/welcoming-stack-overflows-new-cmo-adrianna-burrows/" class="question-hyperlink">Welcoming Stack Overflow’s New CMO – Adrianna Burrows</a>
                </div>
                <br class="cbt" />
            </div>
    </div>
</div>			
			<script>
                var ados = ados || {}; ados.run = ados.run || [];
                ados.run.push(function () { ados_add_placement(22,8277,"adzerk617325751",[5,17,2221]).setZone(45); });
            </script>
            <div class="everyonelovesstackoverflow" id="adzerk617325751">
            </div>
        <div id="hireme">
            <script>
;"use strict";(function(n){function it(n,i,r){var u=t.createElement("script"),e="onreadystatechange",o="onload",f="readyState",s=!1;u.async=!0;u.src=n;typeof i=="function"&&(u[o]=u[e]=function(){s||u[f]&&u[f]!=="loaded"&&u[f]!=="complete"||(s=!0,typeof i=="function"&&i(u),u[o]=u[e]=null,r&&u.parentNode.removeChild(u))});ft.appendChild(u)}function rt(n){var i=t.createElement("link");i.type="text/css";i.rel="stylesheet";i.href=n;et.appendChild(i)}function ct(){var n=i.StackExchange,t="options",r="user";return n&&n[t]&&n[t][r]&&n[t][r].accountId}function lt(n){var t,i;return n=ot(f.hash?f.hash.substr(1):"",n||{}),t=n.ac||n.accountId||ct(),t&&(n.ac=t),n.tags||(i=tt(),i.length>0&&(n.tags=i.join(";"))),n.host=f.host.replace(/\.internal$/,""),n}function at(n,t,i,u){var c=h(n);if(c===null)return function(){};var e=null,f=null,l=r(),a=function a(){g(c)?(s(e),u(!1,r()-l)):f=o(a,t)};return f=o(a,t),i!==undefined&&(e=o(function(){s(f);u(!0,r()-l)},i)),function(){s(f);s(e)}}function vt(n){var u=f.hash.indexOf("large=1")!==-1,e=y(),o=u||!e||n,s=o?1:2,h=a(["hireme","clc-sb"],v),t=[s+"="+h],r=a(["careers1","clc-tlb"],v),i;return r&&t.push("5="+r),i=a(["careers3","clc-mlb"],v),i&&t.push("6="+i),t.join("&")}function ut(n,t){var e=!!h("#careersadsdoublehigh"),s=k({},u,{zones:u.zones||vt(e)}),f=lt(s),o;n&&(f.azt=1);t&&(f.lw=t);typeof i.innerWidth=="number"&&(f.bw=i.innerWidth);b&&(f.ver=b);o=p()-(e+0);o>0&&(f.az="1");var c=st(f,["zones","ip","ac","eng","prov","tags","theme","at","remote","seed","lw","azt","sysadmin","bw","nocpm","jobview","cpview","ver","host","cp","az"]),a=w+"?"+c;l=r();it(a)}function yt(n){function h(){f.forEach(rt);e.forEach(function(n){return pt(n,t[n],s,o)});typeof i.clc_after_load=="function"&&i.clc_after_load()}var t=n.cr,u=n.h,f=n.st,e=Object.keys(t),o=l?r()-l:0,s="//"+u+"/ct";h()}function pt(n,t,i,r){var s=t.cl,c=t.cn,f=t.an,l=t.tr,o=(s||[]).join(" "),u=h("#"+n);u&&(o&&(u.className+=" "+o),u.innerHTML=c.replace("&pt=0","&pt="+(r||0)),u.onmousedown=function(n){for(var t=n.target,r,o,s;t.tagName!=="A"&&t!==u;)t=t.parentNode;t!==u&&(r=[],f&&r.push("an="+f),o=[].filter.call(t.attributes,function(n){return/^data-/.test(n.name)}),o.length>0&&o.forEach(function(n){var t=n.name.replace(/^data-/,"");r.push(e(t)+"="+e(n.value))}),r.push("tr="+l),s="",r.length>0&&(s="?"+r.join("&")),t.href=i+s)})}function wt(n){var i=t.createElement("a");return i.href=n,i.host}function bt(){var i,n;y()?(n=at("#sidebar "+c,20,i,ut),o(function(){var r=h(c),i;g(r)||(r.parentNode.removeChild(r),typeof n=="function"&&n(),i=t.createElement("img"),i.src="//"+wt(w)+"/to.gif",i.style.display="none",t.body.appendChild(i))},2e3)):ut()}var w=n.u,u=n.o,b=n.c,y,p;u=u||{};var k=Object.assign||function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},i=window,f=i.location,e=i.encodeURIComponent,d=i.decodeURIComponent,t=i.document,ft=t.body,et=t.getElementsByTagName("head")[0],o=i.setTimeout,s=i.clearTimeout,c="[id^=adzerk].everyonelovesstackoverflow",l=0,r=function(){return(new Date).getTime()},ot=function(n,t){return n.split(/\&/g).reduce(function(n,t){var i=t.split("=");return n[d(i[0])]=d(i[1]),n},t||{})},st=function(n,t){return Object.keys(n).filter(function(n){return t.indexOf(n)!==-1}).map(function(t){return e(t)+"="+e(n[t])}).join("&")},g=function(n){return n.innerHTML.replace(/\s+$/g,"")},nt=t.querySelectorAll.bind(t),h=t.querySelector.bind(t),ht=t.getElementById.bind(t),a=function(n,t){return n.filter(t)[0]},tt=function(){return[].map.call(nt(".post-taglist .post-tag"),function(n){return n.textContent})},v=function(n){return!!ht(n)};y=function(){return p()>0};p=function(){return nt(c).length};i.clc=k(window.clc||{},{init:yt,load:bt,ls:it,as:rt,tags:tt})}).call(null, {"c":"955d59b","u":"//clc.stackoverflow.com/p.js"});"use strict";var allowedHosts=["stackoverflow.com","serverfault.com"];(allowedHosts[0]==="*"||allowedHosts.indexOf(location.hostname)!==-1)&&window.clc.load();            </script>
        </div>
			  
    
            <div class="module sidebar-linked">
	<h4 id="h-linked">Linked</h4>
	<div class="linked" data-tracker="lq=1">
<div class="spacer">
	<a href="/q/12775065" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">1</div>
	</a>
	<a href="/questions/12775065/large-binary-file-copy-with-standard-c" class="question-hyperlink">Large binary file copy with standard C++</a>
</div><div class="spacer">
	<a href="/q/26302949" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">0</div>
	</a>
	<a href="/questions/26302949/how-can-i-copy-a-text-file-into-another" class="question-hyperlink">How can I copy a text file into another?</a>
</div><div class="spacer">
	<a href="/q/20627698" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">1</div>
	</a>
	<a href="/questions/20627698/duplicating-a-file-via-fstream" class="question-hyperlink">Duplicating a file via fstream</a>
</div><div class="spacer">
	<a href="/q/35430157" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">0</div>
	</a>
	<a href="/questions/35430157/how-to-copy-a-file-with-c-program" class="question-hyperlink">How to copy a file with C++ program?</a>
</div><div class="spacer">
	<a href="/q/11563963" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted large">167</div>
	</a>
	<a href="/questions/11563963/writing-a-binary-file-in-c-very-fast" class="question-hyperlink">Writing a binary file in C++ very fast</a>
</div><div class="spacer">
	<a href="/q/3680730" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">11</div>
	</a>
	<a href="/questions/3680730/c-fileio-copy-vs-systemcp-file1-x-file2-x" class="question-hyperlink">C++ FileIO Copy -VS- System("cp file1.x file2.x)</a>
</div><div class="spacer">
	<a href="/q/12766636" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">3</div>
	</a>
	<a href="/questions/12766636/difference-in-using-read-write-when-stream-is-opened-with-without-iosbinary-mo" class="question-hyperlink">Difference in using read/write when stream is opened with/without ios::binary mode</a>
</div><div class="spacer">
	<a href="/q/19665073" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">1</div>
	</a>
	<a href="/questions/19665073/appending-content-of-text-file-to-another-file-in-c" class="question-hyperlink">Appending content of text file to another file in C++</a>
</div><div class="spacer">
	<a href="/q/23178191" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">10</div>
	</a>
	<a href="/questions/23178191/why-is-copying-a-file-in-c-so-much-faster-than-c" class="question-hyperlink">Why is copying a file in C so much faster than C++?</a>
</div><div class="spacer">
	<a href="/q/18655168" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">0</div>
	</a>
	<a href="/questions/18655168/couldnt-found-cstdio-h" class="question-hyperlink">Couldn&#39;t found cstdio.h</a>
</div>					<div class="spacer more">
				<a href="/questions/linked/10195343">see more linked questions…</a>
			</div>
	</div>
</div>

				<div class="module sidebar-related">
					<h4 id="h-related">Related</h4>
                    <div class="related js-gps-related-questions" data-tracker="rq=1">
                        <div class="spacer">
<a href="/q/326390" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes large">773
    </div>
</a><a href="/questions/326390/how-do-i-create-a-java-string-from-the-contents-of-a-file" class="question-hyperlink">How do I create a Java string from the contents of a file?</a>
</div>
<div class="spacer">
<a href="/q/638975" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted extra-large">1428
    </div>
</a><a href="/questions/638975/how-do-i-tell-if-a-regular-file-does-not-exist-in-bash" class="question-hyperlink">How do I tell if a regular file does not exist in bash?</a>
</div>
<div class="spacer">
<a href="/q/876473" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted large">468
    </div>
</a><a href="/questions/876473/is-there-a-way-to-check-if-a-file-is-in-use" class="question-hyperlink">Is there a way to check if a file is in use?</a>
</div>
<div class="spacer">
<a href="/q/953481" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted extra-large">1578
    </div>
</a><a href="/questions/953481/find-and-restore-a-deleted-file-in-a-git-repository" class="question-hyperlink">Find and restore a deleted file in a Git repository</a>
</div>
<div class="spacer">
<a href="/q/2602013" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted large">363
    </div>
</a><a href="/questions/2602013/read-whole-ascii-file-into-c-stdstring" class="question-hyperlink">Read whole ASCII file into C++ std::string</a>
</div>
<div class="spacer">
<a href="/q/2885173" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted large">610
    </div>
</a><a href="/questions/2885173/how-to-create-a-file-and-write-to-a-file-in-java" class="question-hyperlink">How to create a file and write to a file in Java?</a>
</div>
<div class="spacer">
<a href="/q/3964681" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted large">579
    </div>
</a><a href="/questions/3964681/find-all-files-in-directory-with-extension-txt-in-python" class="question-hyperlink">Find all files in directory with extension .txt in Python</a>
</div>
<div class="spacer">
<a href="/q/6159900" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted large">401
    </div>
</a><a href="/questions/6159900/correct-way-to-write-line-to-file-in-python" class="question-hyperlink">Correct way to write line to file in Python</a>
</div>
<div class="spacer">
<a href="/q/7868936" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted large">250
    </div>
</a><a href="/questions/7868936/read-file-line-by-line" class="question-hyperlink">Read file line by line</a>
</div>
<div class="spacer">
<a href="/q/11563963" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted large">167
    </div>
</a><a href="/questions/11563963/writing-a-binary-file-in-c-very-fast" class="question-hyperlink">Writing a binary file in C++ very fast</a>
</div>

                    </div>
				</div>
            
<div id="hot-network-questions" class="module">
    <h4>
        <a href="//stackexchange.com/questions?tab=hot" 
           class="js-gps-track" 
           data-gps-track="posts_hot_network.click({ item_type:1, location:11 })">
            Hot Network Questions
        </a>
    </h4>
    <ul>
            <li >
                <div class="favicon favicon-rpg" title="Role-playing Games Stack Exchange"></div><a href="http://rpg.stackexchange.com/questions/79744/can-lovecraftesque-do-one-room-horror" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:122 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Can Lovecraftesque do one-room horror?
                </a>

            </li>
            <li >
                <div class="favicon favicon-travel" title="Travel Stack Exchange"></div><a href="http://travel.stackexchange.com/questions/67762/is-it-possible-to-travel-to-the-us-to-speak-at-a-conference-under-the-rules-of-v" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:273 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Is it possible to travel to the US to speak at a conference under the rules of VWP?
                </a>

            </li>
            <li >
                <div class="favicon favicon-scifi" title="Science Fiction &amp; Fantasy Stack Exchange"></div><a href="http://scifi.stackexchange.com/questions/127100/was-lupins-comment-to-harry-about-fear-affected-by-franklin-roosevelt-if-so-w" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:186 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Was Lupin&#39;s comment to Harry about fear affected by Franklin Roosevelt? If so, why did Rowling choose this?
                </a>

            </li>
            <li >
                <div class="favicon favicon-electronics" title="Electrical Engineering Stack Exchange"></div><a href="http://electronics.stackexchange.com/questions/232035/why-are-there-so-many-relays-used-in-a-car-instead-of-transistors" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:135 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why are there so many relays used in a car, instead of transistors?
                </a>

            </li>
            <li >
                <div class="favicon favicon-money" title="Personal Finance &amp; Money Stack Exchange"></div><a href="http://money.stackexchange.com/questions/63651/insurance-company-sent-me-huge-check-instead-of-pharmacy-now-what" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:93 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Insurance company sent me huge check instead of pharmacy. Now what?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-ell" title="English Language Learners Stack Exchange"></div><a href="http://ell.stackexchange.com/questions/89101/in-on-or-at-github" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:481 }); posts_hot_network.click({ item_type:2, location:11 })">
                    (In, On or At) GitHub?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-sqa" title="Software Quality Assurance &amp; Testing Stack Exchange"></div><a href="http://sqa.stackexchange.com/questions/18459/what-constitutes-testing-is-simply-running-the-code-during-development-testi" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:244 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What constitutes &#39;Testing&#39;? Is simply running the code during development &#39;Testing&#39;?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-puzzling" title="Puzzling Stack Exchange"></div><a href="http://puzzling.stackexchange.com/questions/31916/i-make-a-song-of-silence" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:559 }); posts_hot_network.click({ item_type:2, location:11 })">
                    I make a song of silence
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-politics" title="Politics Stack Exchange"></div><a href="http://politics.stackexchange.com/questions/10782/is-a-vice-president-term-limited-in-the-same-way-the-president-is" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:475 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Is a Vice President term limited in the same way the President is?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-blender" title="Blender Stack Exchange"></div><a href="http://blender.stackexchange.com/questions/52030/why-are-some-blender-ui-elements-blue" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:502 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why are some Blender UI elements blue?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-physics" title="Physics Stack Exchange"></div><a href="http://physics.stackexchange.com/questions/253944/if-we-threw-a-baseball-from-the-iss-could-we-deorbit-the-ball" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:151 }); posts_hot_network.click({ item_type:2, location:11 })">
                    If we threw a baseball from the ISS, could we deorbit the ball?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-aviation" title="Aviation Stack Exchange"></div><a href="http://aviation.stackexchange.com/questions/27386/how-much-force-is-needed-to-tow-an-airliner" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:528 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How much force is needed to tow an airliner?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-diy" title="Home Improvement Stack Exchange"></div><a href="http://diy.stackexchange.com/questions/90038/when-doing-electrical-work-how-do-i-check-wires-are-safe" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:73 }); posts_hot_network.click({ item_type:2, location:11 })">
                    When doing electrical work, how do I check wires are safe?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-dba" title="Database Administrators Stack Exchange"></div><a href="http://dba.stackexchange.com/questions/137388/t-sql-is-string-a-palindrome" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:182 }); posts_hot_network.click({ item_type:2, location:11 })">
                    T-SQL : Is string a Palindrome?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-electronics" title="Electrical Engineering Stack Exchange"></div><a href="http://electronics.stackexchange.com/questions/232493/whats-the-purpose-of-crossing-over-in-the-middle-of-a-toroid-winding" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:135 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What&#39;s the purpose of crossing over in the middle of a toroid winding?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-chemistry" title="Chemistry Stack Exchange"></div><a href="http://chemistry.stackexchange.com/questions/50704/what-is-the-ph-of-ice" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:431 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What is the pH of ice?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-ux" title="User Experience Stack Exchange"></div><a href="http://ux.stackexchange.com/questions/93722/about-us-why-do-websites-show-the-ceo-founders-and-employees-on-this-page" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:102 }); posts_hot_network.click({ item_type:2, location:11 })">
                    About us: why do websites show the CEO, founders, and employees on this page?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-math" title="Mathematics Stack Exchange"></div><a href="http://math.stackexchange.com/questions/1769475/how-to-debug-math" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:69 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How to debug math?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-serverfault" title="Server Fault"></div><a href="http://serverfault.com/questions/774930/trusting-an-untrustworthy-ca" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:2 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Trusting an untrustworthy CA
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-stackoverflow" title="Stack Overflow"></div><a href="http://stackoverflow.com/questions/37048006/why-would-one-use-macro0-0" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:1 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why would one use MACRO+0 !=0
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-workplace" title="The Workplace Stack Exchange"></div><a href="http://workplace.stackexchange.com/questions/66476/how-to-answer-uncertain-question-during-meeting" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:423 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How to answer uncertain question during meeting
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-codegolf" title="Programming Puzzles &amp; Code Golf Stack Exchange"></div><a href="http://codegolf.stackexchange.com/questions/79436/remove-unnecessary-parentheses" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:200 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Remove unnecessary parentheses
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-english" title="English Language &amp; Usage Stack Exchange"></div><a href="http://english.stackexchange.com/questions/323694/how-do-i-say-that-i-am-interested-in-a-lot-of-things-without-coming-off-either-a" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:97 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How do I say that I am interested in a lot of things without coming off either as superficial or arrogant
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-unix" title="Unix &amp; Linux Stack Exchange"></div><a href="http://unix.stackexchange.com/questions/281158/compress-a-large-number-of-large-files-fast" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:106 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Compress a large number of large files fast
                </a>

            </li>
    </ul>

        <a href="#" 
           class="show-more js-show-more js-gps-track" 
           data-gps-track="posts_hot_network.click({ item_type:3, location:11 })">
            more hot questions
        </a>
</div>
		</div>
	
<div id="feed-link">
    <div id="feed-link-text">
        <a href="/feeds/question/10195343" title="feed of this question and its answers">
            <span class="feed-icon"></span>question feed
        </a>
    </div>
</div>	<script>
StackExchange.ready(function(){$.get('/posts/10195343/ivc/2f4e');});
</script>
<noscript>
    <div><img src="/posts/10195343/ivc/2f4e" class="dno" alt="" width="0" height="0"></div>
</noscript><div style="display:none" id="prettify-lang">lang-cpp</div></div>


        </div>
    </div>
    <div id="footer" class="categories">
        <div class="footerwrap">
            <div id="footer-menu">
                <div class="top-footer-links">
                    <a href="http://stackoverflow.com/company/about">about us</a>
                        <a href="/tour">tour</a>
                    <a href="/help">help</a>
                    <a href="http://blog.stackoverflow.com?blb=1">blog</a>
                        <a href="http://chat.stackoverflow.com">chat</a>
                    <a href="http://data.stackexchange.com">data</a>
                    <a href="http://stackexchange.com/legal">legal</a>
                    <a href="http://stackexchange.com/legal/privacy-policy">privacy policy</a>
                    <a href="http://stackoverflow.com/company/work-here">work here</a>
                    <a href="http://stackexchange.com/mediakit">advertising info</a>

                    <a onclick='StackExchange.switchMobile("on")'>mobile</a>
                    <b><a href="/contact">contact us</a></b>
                        <b><a href="http://meta.stackoverflow.com">feedback</a></b>
                    
                </div>
                <div id="footer-sites">
                    <table>
    <tr>
            <th colspan=3>
                Technology
            </th>
            <th >
                Life / Arts
            </th>
            <th >
                Culture / Recreation
            </th>
            <th >
                Science
            </th>
            <th >
                Other
            </th>
    </tr>
    <tr>
            <td>
                <ol>
                        <li><a href="//stackoverflow.com" title="professional and enthusiast programmers">Stack Overflow</a></li>
                        <li><a href="//serverfault.com" title="system and network administrators">Server Fault</a></li>
                        <li><a href="//superuser.com" title="computer enthusiasts and power users">Super User</a></li>
                        <li><a href="//webapps.stackexchange.com" title="power users of web applications">Web Applications</a></li>
                        <li><a href="//askubuntu.com" title="Ubuntu users and developers">Ask Ubuntu</a></li>
                        <li><a href="//webmasters.stackexchange.com" title="pro webmasters">Webmasters</a></li>
                        <li><a href="//gamedev.stackexchange.com" title="professional and independent game developers">Game Development</a></li>
                        <li><a href="//tex.stackexchange.com" title="users of TeX, LaTeX, ConTeXt, and related typesetting systems">TeX - LaTeX</a></li>
                            </ol></td><td><ol>
                        <li><a href="//programmers.stackexchange.com" title="professional programmers interested in conceptual questions about software development">Programmers</a></li>
                        <li><a href="//unix.stackexchange.com" title="users of Linux, FreeBSD and other Un*x-like operating systems">Unix &amp; Linux</a></li>
                        <li><a href="//apple.stackexchange.com" title="power users of Apple hardware and software">Ask Different (Apple)</a></li>
                        <li><a href="//wordpress.stackexchange.com" title="WordPress developers and administrators">WordPress Development</a></li>
                        <li><a href="//gis.stackexchange.com" title="cartographers, geographers and GIS professionals">Geographic Information Systems</a></li>
                        <li><a href="//electronics.stackexchange.com" title="electronics and electrical engineering professionals, students, and enthusiasts">Electrical Engineering</a></li>
                        <li><a href="//android.stackexchange.com" title="enthusiasts and power users of the Android operating system">Android Enthusiasts</a></li>
                        <li><a href="//security.stackexchange.com" title="information security professionals">Information Security</a></li>
                            </ol></td><td><ol>
                        <li><a href="//dba.stackexchange.com" title="database professionals who wish to improve their database skills and learn from others in the community">Database Administrators</a></li>
                        <li><a href="//drupal.stackexchange.com" title="Drupal developers and administrators">Drupal Answers</a></li>
                        <li><a href="//sharepoint.stackexchange.com" title="SharePoint enthusiasts">SharePoint</a></li>
                        <li><a href="//ux.stackexchange.com" title="user experience researchers and experts">User Experience</a></li>
                        <li><a href="//mathematica.stackexchange.com" title="users of Mathematica">Mathematica</a></li>
                        <li><a href="//salesforce.stackexchange.com" title="Salesforce administrators, implementation experts, developers and anybody in-between">Salesforce</a></li>
                        <li><a href="//expressionengine.stackexchange.com" title="administrators, end users, developers and designers for ExpressionEngine&#174; CMS">ExpressionEngine&#174; Answers</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#technology" class="more">
                                more (13)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="//photo.stackexchange.com" title="professional, enthusiast and amateur photographers">Photography</a></li>
                        <li><a href="//scifi.stackexchange.com" title="science fiction and fantasy enthusiasts">Science Fiction &amp; Fantasy</a></li>
                        <li><a href="//graphicdesign.stackexchange.com" title="Graphic Design professionals, students, and enthusiasts">Graphic Design</a></li>
                        <li><a href="//movies.stackexchange.com" title="movie and tv enthusiasts">Movies &amp; TV</a></li>
                        <li><a href="//cooking.stackexchange.com" title="professional and amateur chefs">Seasoned Advice (cooking)</a></li>
                        <li><a href="//diy.stackexchange.com" title="contractors and serious DIYers">Home Improvement</a></li>
                        <li><a href="//money.stackexchange.com" title="people who want to be financially literate">Personal Finance &amp; Money</a></li>
                        <li><a href="//academia.stackexchange.com" title="academics and those enrolled in higher education">Academia</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#lifearts" class="more">
                                more (9)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="//english.stackexchange.com" title="linguists, etymologists, and serious English language enthusiasts">English Language &amp; Usage</a></li>
                        <li><a href="//skeptics.stackexchange.com" title="scientific skepticism">Skeptics</a></li>
                        <li><a href="//judaism.stackexchange.com" title="those who base their lives on Jewish law and tradition and anyone interested in learning more">Mi Yodeya (Judaism)</a></li>
                        <li><a href="//travel.stackexchange.com" title="road warriors and seasoned travelers">Travel</a></li>
                        <li><a href="//christianity.stackexchange.com" title="committed Christians, experts in Christianity and those interested in learning more">Christianity</a></li>
                        <li><a href="//gaming.stackexchange.com" title="passionate videogamers on all platforms">Arqade (gaming)</a></li>
                        <li><a href="//bicycles.stackexchange.com" title="people who build and repair bicycles, people who train cycling, or commute on bicycles">Bicycles</a></li>
                        <li><a href="//rpg.stackexchange.com" title="gamemasters and players of tabletop, paper-and-pencil role-playing games">Role-playing Games</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#culturerecreation" class="more">
                                more (21)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="//math.stackexchange.com" title="people studying math at any level and professionals in related fields">Mathematics</a></li>
                        <li><a href="//stats.stackexchange.com" title="people interested in statistics, machine learning, data analysis, data mining, and data visualization">Cross Validated (stats)</a></li>
                        <li><a href="//cstheory.stackexchange.com" title="theoretical computer scientists and researchers in related fields">Theoretical Computer Science</a></li>
                        <li><a href="//physics.stackexchange.com" title="active researchers, academics and students of physics">Physics</a></li>
                        <li><a href="//mathoverflow.net" title="professional mathematicians">MathOverflow</a></li>
                        <li><a href="//chemistry.stackexchange.com" title="scientists, academics, teachers and students">Chemistry</a></li>
                        <li><a href="//biology.stackexchange.com" title="biology researchers, academics, and students">Biology</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#science" class="more">
                                more (5)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="//stackapps.com" title="apps, scripts, and development with the Stack Exchange API">Stack Apps</a></li>
                        <li><a href="//meta.stackexchange.com" title="meta-discussion of the Stack Exchange family of Q&amp;A websites">Meta Stack Exchange</a></li>
                        <li><a href="//area51.stackexchange.com" title="proposing new sites in the Stack Exchange network">Area 51</a></li>
                        <li><a href="//careers.stackoverflow.com">Stack Overflow Careers</a></li>
                    
                </ol>
            </td>
    </tr>
</table>
                </div>
            </div>
            <div id="copyright">
                site design / logo &#169; 2016 Stack Exchange Inc; user contributions licensed under <a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license">cc by-sa 3.0</a> 
                with <a href="http://blog.stackoverflow.com/2009/06/attribution-required/" rel="license">attribution required</a>
            </div>
            <div id="svnrev">
                rev 2016.5.5.3548
            </div>
        </div>
    </div>
    <noscript>
        <div id="noscript-warning">Stack Overflow works best with JavaScript enabled<img src="http://pixel.quantserve.com/pixel/p-c1rF4kxgLUzNc.gif" alt="" class="dno"></div>
    </noscript>
<script>var p = "http", d = "static"; if (document.location.protocol == "https:") { p += "s"; d = "engine"; } var z = document.createElement("script"); z.type = "text/javascript"; z.async = true; z.src = p + "://" + d + ".adzerk.net/ados.js"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(z, s);</script>
<script>
    var ados = ados || {};
    ados.run = ados.run || [];
    
    
        
        ados.run.push(function () {
                setTimeout(function () { $("#adzerk-user-match").remove(); }, window.AUMIframeDone ? 0 : 2000);
                ados_setKeywords('c%2b%2b,file-io');; ados_load();
        });   
        
</script>

    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m);
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-5620270-1');
                        ga('set', 'dimension2', '|c++|file-io|');         ga('send', 'pageview');
        var _qevents = _qevents || [],
            _comscore = _comscore || [];
        (function () {
            var ssl='https:'==document.location.protocol,
                s=document.getElementsByTagName('script')[0],
                qc=document.createElement('script');
            qc.async=true;
            qc.src=(ssl?'https://secure':'http://edge')+'.quantserve.com/quant.js';
            s.parentNode.insertBefore(qc, s);
            var sc=document.createElement('script');
            sc.async=true;
            sc.src=(ssl?'https://sb':'http://b') + '.scorecardresearch.com/beacon.js';
            s.parentNode.insertBefore(sc, s);
        })();
        _comscore.push({ c1: "2", c2: "17440561" });
        _qevents.push({ qacct: "p-c1rF4kxgLUzNc" });
    </script>
        
    
    </body>
</html>