

<!DOCTYPE html>
<html lang="en" >
<head>
    <script type='text/javascript'>var _sf_startpt=(new Date()).getTime()</script>

    <!-- METADATA -->
    <title>Virginia primary 2016 election results and map - Los Angeles Times</title>
    
        <meta charset="utf-8" />
        <meta name="description" content="Virginia is one of 12 states holding contests on Super Tuesday, the busiest day of the election season. Results are expected after polls close at 4 p.m. Pacific. &lt;a href=&quot;/2016-election-super-tuesday-results/&quot;&gt;Complete Super Tuesday results &amp;raquo;&lt;/a&gt;" />
        <meta name="keywords" content="data desk, los angeles times, latimes, l.a. times" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" type="image/x-icon" href="http://d1qqc1e9kvmdh8.cloudfront.net/img/favicon.ico">
        <link rel="publisher" href="https://plus.google.com/u/0/112727226361732924638" />
        <meta name="google-site-verification" content="a9pAUAoFTyj7Nut3H5OiQ-fUyyqdwdVT7VcFGICrpTo" />
        
    <meta http-equiv="refresh" content="600" />
    <meta property="og:title" content="Results from the Virginia primary"/>
    <meta property="og:type" content="article"/>
    <meta property="og:url" content="http://graphics.latimes.com/election-2016-virginia-results/"/>
    <meta property="og:image" content="http://graphics.latimes.com/static/img/elections_2016/share-images/super-tuesday-share-image.jpg"/>
    <meta property="og:site_name" content="graphics.latimes.com"/>
    <meta property="og:description" content="Virginia is one of 12 states holding contests on Super Tuesday, the busiest day of the election season. Results are expected after polls close at 4 p.m. Pacific. Complete Super Tuesday results &amp;raquo;"/>
    <meta property="fb:admins" content="1257725335"/>
    <meta property="fb:app_id" content="171740782909828" />

    <meta property="twitter:site" content="@latimes" />
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="http://graphics.latimes.com/election-2016-virginia-results/" />
    <meta property="twitter:title" content="Results from the Virginia primary" />
    <meta property="twitter:description" content="Virginia is one of 12 states holding contests on Super Tuesday, the busiest day of the election season. Results are expected after polls close at 4 p.m. Pacific. Complete Super Tuesday results &amp;raquo;" />
    <meta property="twitter:image" content="http://graphics.latimes.com/static/img/elections_2016/share-images/super-tuesday-share-image.jpg" />

    <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "NewsArticle",
      "headline": "Results from the Virginia primary",
      "image": "http://graphics.latimes.com/static/img/elections_2016/share-images/super-tuesday-share-image.jpg",
      "datePublished": "2016-03-01",
      "description": "Virginia is one of 12 states holding contests on Super Tuesday, the busiest day of the election season. Results are expected after polls close at 4 p.m. Pacific. Complete Super Tuesday results &amp;raquo;"
    }
    </script>

    

    <!-- CSS -->
    
    <link rel="stylesheet" type="text/css" href="http://d1qqc1e9kvmdh8.cloudfront.net/bootstrap/2.3.2/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="http://d1qqc1e9kvmdh8.cloudfront.net/css/ngux-tophat-0.5.2.min.css" />
    <link rel="stylesheet" type="text/css" href="http://d1qqc1e9kvmdh8.cloudfront.net/bootstrap/2.3.2/css/bootstrap-responsive.min.css" />
    <link rel="stylesheet" type="text/css" href="http://d1qqc1e9kvmdh8.cloudfront.net/css/ngux-tophat-responsive-0.5.2.min.css" />
    

    
    
    <style text="text/css">
        @font-face {
    font-family: 'Benton Gothic Regular';
    src: url('https://s3.amazonaws.com/latimes-datadesk-template/fonts/0.5.0/benton-gothic-regular.eot');
    src: url('https://s3.amazonaws.com/latimes-datadesk-template/fonts/0.5.0/benton-gothic-regular.eot?#iefix') format('embedded-opentype'),
         url('https://s3.amazonaws.com/latimes-datadesk-template/fonts/0.5.0/benton-gothic-regular.woff') format('woff'),
         url('https://s3.amazonaws.com/latimes-datadesk-template/fonts/0.5.0/benton-gothic-regular.ttf') format('truetype');
    font-weight:normal;
    font-style:normal;
}
@font-face {
    font-family: 'Benton Gothic Bold';
    src: url('https://s3.amazonaws.com/latimes-datadesk-template/fonts/0.5.0/benton-gothic-bold.eot');
    src: url('https://s3.amazonaws.com/latimes-datadesk-template/fonts/0.5.0/benton-gothic-bold.eot?#iefix') format('embedded-opentype'),
         url('https://s3.amazonaws.com/latimes-datadesk-template/fonts/0.5.0/benton-gothic-bold.woff') format('woff'),
         url('https://s3.amazonaws.com/latimes-datadesk-template/fonts/0.5.0/benton-gothic-bold.ttf') format('truetype');
    font-weight:normal;
    font-style:normal;
}
@font-face {
    font-family: 'Benton Gothic Black';
    src: url('https://s3.amazonaws.com/latimes-datadesk-template/fonts/0.5.0/benton-gothic-black.eot');
    src: url('https://s3.amazonaws.com/latimes-datadesk-template/fonts/0.5.0/benton-gothic-black.eot?#iefix') format('embedded-opentype'),
         url('https://s3.amazonaws.com/latimes-datadesk-template/fonts/0.5.0/benton-gothic-black.woff') format('woff'),
         url('https://s3.amazonaws.com/latimes-datadesk-template/fonts/0.5.0/benton-gothic-black.ttf') format('truetype');
    font-weight:normal;
    font-style:normal;
}
.svg-city {text-shadow: 1px 1px 5px rgba(255, 255, 255, 0.5),-1px -1px 5px rgba(255, 255, 255, 0.5);font-family: 'Benton Gothic Bold',Arial,sans-serif;pointer-events:none; font-size:17px;}
svg {overflow:visible;}
.sans,.sans p,table{font-family:"Benton Gothic Regular",Arial,sans-serif}
.sans-black{font-family:'Benton Gothic Black',Arial,sans-serif}
.sans-bold{font-family:'Benton Gothic Bold',Arial,sans-serif}
h1{font-size:44px;line-height:.9em;margin:5px 0 15px}
h2{text-transform:uppercase;font-weight:normal;font-size:15px;margin:0;line-height:28px}
h5{margin:0;color:#999;font-weight:normal;line-height:11px}
p{margin:10px 0;line-height:1.4em}
p.description {max-width: 650px;font-size: 16px;}
.container.topper{padding-bottom:10px}
.button-container{text-align:right}
.key{font-size:14px}
.cube-container{padding-top:20px;text-align:right}
.map-topper{margin-bottom:30px}
li.candidate{list-style-type:none;margin-bottom:10px}
.election ul{margin:0;padding:0}
.candidate-image{height:40px;width:auto;margin-left:10px}
.state-called {font-size:14px; padding: 5px; background-color:#f2f2f2; text-align:center;}
table.candidate-details{width:100%;margin-left:5%;text-align:right}
table .candidate-headers{display:none}
table.candidate-details th{font-size:13px;font-weight:normal;color:#999;text-align:right}
.candidate-name,.candidate-votes{display:block;text-align:center;font-weight:bold;margin:0;padding:0}
.candidate-votes{color:#999}
.candidate-res{font-weight:normal;font-size:13px;text-align:right}
.candidate-swatch{width:9px;height:40px; border-radius:4px;}
.candidate-rail{width:100%;margin-bottom:0}
.candidate-rail th{font-size:9px;font-weight:bold;color:#999;text-align:right}
.candidate-rail tr{border-bottom:1px solid #ECEBEB}
.candidate-rail td{padding:11px 2px}
.candidate-rail tr:nth-child(1n+6){display:none}
.candidate-rail.has-winner tr:nth-child(-n+7){display:table-row}
.candidate-first,.candidate-last{display:block;line-height:120%;font-size:10px}
.candidate-last{font-size:14px;text-transform:uppercase}
.map-container{text-align:right;height:410px;position: relative;}
/*.results-map{width:100%;height:auto}*/
.show-more{padding-top:15px;cursor:pointer}
.democrat .show-more{display:none}
.show-more div{float:left;text-transform:uppercase;line-height:110%;font-size:12px;margin-left:10px}
.LATPlus,.LATMinus{padding:5px;font-size:18px;float:left}
.icon-refresh{margin-top:5px}
.btn{border:none;color:#9E9E9E;background:#f2f2f2;font-weight:normal;font-size:13px!important}
.btn.active{color:#282828;background:#d9d9d9;border-color:none;-webkit-box-shadow:none;box-shadow:none}
.btn:hover{color:#282828;background:#dcdcdc}
.pct-reporting{display:block;font-size:15px;font-weight:normal;line-height:28px}
.precincts-reporting{font-size:14px;color:#999;display:block;line-height:120%;line-height:11px}
.btn-group{margin-top:10px}
.swatch{display:inline-block;height:16px;width:16px;margin-right:3px;background:#666;border-radius:3px}
.key-container{margin-top:25px;}
.key{float:right;margin:0 7px}
.key:first-of-type{margin-left:0}
.county-touch{fill:#000!important}
.force-gray{fill:#d9d9d9!important}
.hidden{display:none!important}
ul.candidates-no-results{list-style-type:none;margin:0;padding:0}
ul.candidates-no-results .candidate-image{margin:0;float:left}
ul.candidates-no-results li{display:inline-block;padding:10px 5px;width:137px}
ul.candidates-no-results li .candidate-last{font-size:15px}
.no-results-name{display:inline-block;margin-left:10px;margin-top:5px;float:left}
#tooltip{display:none;min-width:200px;position:absolute;border:1px solid rgba(0,0,0,0.20);font-family:Arial,sans-serif;width:250px;z-index:9999999;background-color:white;background:rgba(255,255,255,0.98);-webkit-box-shadow:0 0 13px 0 rgba(0,0,0,0.35);-moz-box-shadow:0 0 13px 0 rgba(0,0,0,0.35);box-shadow:0 0 13px 0 rgba(0,0,0,0.35)}
.tooltip_body{padding:5px 10px 10px}
.tooltip_topper{border-bottom:1px solid rgba(0,0,0,0.20);padding:10px 10px 5px}
.tooltip_county_name{color:#333333;font-size:16px;font-weight:normal}
.tooltip_precincts_reporting{font-size:12px;padding-bottom:2px;color:#787878}
#tooltip td{padding:0;text-align:left;font-size:12px;margin:0}
#tooltip th,.touch-tooltip th{font-size:10px;font-weight:normal;text-align:left;color:#787878;padding:0;margin:0;text-align:right}
#tooltip table,.touch-tooltip table{margin-top:2px;font-family:Arial,sans-serif;width:100%}
.tooltip_candidate_vote_total{text-align:right!important}
.tooltip_candidate_percent_vote{text-align:right!important}
.touch-tooltip{font-family:Arial,sans-serif;width:100%}
.touch_tooltip td{font-size:1.1em!important;padding:0;text-align:left;margin:0}
p.sources{ font-size: 12px; }
.show tr{display:table-row!important}
.no-results .candidate-list + .show-more{display:none}
.candidate-rail .winner td {padding: 8px 2px}
tr.winner-flag {margin: 0;padding: 0; border:none;}
tr.winner-flag td {margin: 0;padding: 4px 0 0 0;text-transform:uppercase;font-size:11px;}
.insights {
    text-transform: uppercase;
    font-size: 11px;
    margin-top: 20px;
}
.mobile-annotations p {
    border-bottom: 1px solid #ddd;
    padding-bottom: 14px;
    margin-bottom: 12px;
    margin-top: 5px;
}
.mobile-annotations p:last-child {
    border-bottom: none !important;
}
.overlay{
    display:none;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 99999;
    background: rgba(255, 255, 255, 0);
    padding: 27% 0;
    text-align: center;
    line-height: 140%;
}
/*
.no-results .svg-city, .no-results circle { fill: #929292;}
*/
/*.no-results .overlay{display:block}*/
.overlay {display:none !important;}
@media (min-width: 1200px) {
    ul.candidates-no-results li{width:137px}
    .candidate-last{font-size:16px}
    .candidate-res{font-size:15px}
    .candidate-rail td{padding:13px 2px}
    .map-container{height:510px}
}
@media (min-width: 768px) and (max-width: 979px) {
    .btn-group{margin-top:5px}
    .intro{width:100%}
    ul.candidates-no-results li{width:100px}
    ul.candidates-no-results li .candidate-last{font-size:11px}
    .candidate-rail .candidate-last{font-size:12px}
    .candidate-res{font-weight:normal;font-size:12px}
    .candidate-swatch{height:30px}
    .no-results-name{margin-left:6px;margin-top:2px}
    .candidates-no-results .candidate-image{height:30px}
    .candidate-rail .candidate-image{display:none}
    .candidate-rail td{padding:9px 2px}
    .svg-city{font-size:26px}
    .map-container{height:initial}
}
@media (max-width: 767px) {
    h1{font-size:37px}
    .btn-group{margin-top:20px}
    svg {max-height:450px}
    div.span4.mobile-60{width:60%;float:left}
    div.span3.mobile-40{width:40%;float:left}
    .button-container{text-align:left}
    .candidate-rail tr:nth-child(1n+4){display:none !important}
    .candidate-rail.has-winner tr:nth-child(-n+4){display:table-row !important}
    .show table.candidate-rail tr{display:table-row!important}
    .democrat .show-more{display:block}
    .map-container{margin-top:50px;height:auto;text-align:center}
    .key {float:left;}
    .svg-city{font-size:22px;}
}
@media (max-width: 480px) {
    h1{font-size:34px;line-height:1em;margin-bottom:5px}
    .button-container{text-align:center}
    ul.candidates-no-results li .candidate-last{font-size:13px}
    ul.candidates-no-results li{width:127px}
    div.span4.mobile-60,div.span3.mobile-40{width:100%;margin-bottom:10px;text-align:center}
    .pct-reporting,h2{font-size:17px;line-height:22px}
    h5,.precincts-reporting{line-height:14px}
    .key:first-of-type{margin-left:7px}
    .svg-city{font-size:22px}
}

    </style>

    <style>
        .annotation {
            position: absolute;
            right: 0;
            pointer-events: none;
        }
        svg.annotation {
            display: none;
        }
        @media (max-width: 767px) {
            .annotation {
                display: none !important;
            }
        }
        @media (max-width: 480px) {
            svg.annotation {
                display: none!important;
            }
        }
    </style>


    <!-- JAVASCRIPT -->
    
    
    <!--[if lt IE 9]>
          <script type="text/javascript" src="http://d1qqc1e9kvmdh8.cloudfront.net/js/html5shiv.js"></script>
     <![endif]-->
    
    <script src="http://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script type="text/javascript" src="http://d1qqc1e9kvmdh8.cloudfront.net/bootstrap/2.3.2/js/bootstrap.min.js"></script>
    <script src="http://d1qqc1e9kvmdh8.cloudfront.net/js/underscore-1.8.3-min.js" type="text/javascript"></script>
    <script type="text/javascript" src="http://cdn.gigya.com/js/socialize.js?apiKey=2_COh26GgfZDptreu0iQ9aknzT_Ig861qYxOHZVxizrZMTn81vygTB-ptN33wgCtrj"></script>
    <script type="text/javascript" src="http://d1qqc1e9kvmdh8.cloudfront.net/js/ngux-tophat-0.5.2.min.js"></script>
    <!--[if lte IE 7]><script type="text/javascript" src="http://d1qqc1e9kvmdh8.cloudfront.net/js/icons-ie7.js"></script><![endif]-->
    <script type="text/javascript" src="http://d1qqc1e9kvmdh8.cloudfront.net/js/ngux-ads-2.4.1.min.js"></script>
    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.2.3/backbone-min.js"></script>
    <script src="/static/js/snap.0.4.1.svg-min.js"></script>
    <script src="/static/json/elections_2016_svg_files/VA.js"></script>
    <script>
    // Global for all the elex stuff
if (window.elections === undefined) {
    window.elections = {};
}
// Candidate data
elections.candidates = {
    "Bush": {
        "first": "Jeb",
        "last": "Bush",
        "color": "#fff",
        "img": "jeb-bush.jpg"
    },
    "Carson": {
        "first": "Ben",
        "last": "Carson",
        "color": "#7185A0",
        "img": "ben-carson.jpg"
    },
    "Christie": {
        "first": "Chris",
        "last": "Christie",
        "color": "#fff",
        "img": "chris-christie.jpg"
    },
    "Cruz": {
        "first": "Ted",
        "last": "Cruz",
        "color": "#9D7171",
        "img": "ted-cruz.jpg"
    },
    "Fiorina": {
        "first": "Carly",
        "last": "Fiorina",
        "color": "#fff",
        "img": "carly-fiorina.jpg"
    },
    "Huckabee": {
        "first": "Mike",
        "last": "Huckabee",
        "color": "#fff",
        "img": "mike-huckabee.jpg"
    },
    "Paul": {
        "first": "Rand",
        "last": "Paul",
        "color": "#fff",
        "img": "rand-paul.jpg"
    },
    "Rubio": {
        "first": "Marco",
        "last": "Rubio",
        "color": "#FACA7C",
        "img": "marco-rubio.jpg"
    },
    "Santorum": {
        "first": "Rick",
        "last": "Santorum",
        "color": "#fff",
        "img": "rick-santorum.jpg"
    },
    "O'Malley": {
        "first": "Martin",
        "last": "O'Malley",
        "color": "#FFD48F",
        "img": "martin-omalley.jpg"
    },
    "Clinton": {
        "first": "Hillary",
        "last": "Clinton",
        "color": "#90B9EE",
        "img": "hillary-rodham-clinton.jpg"
    },
    "Sanders": {
        "first": "Bernie",
        "last": "Sanders",
        "color": "#E3B99B",
        "img": "bernie-sanders.jpg"
    },
    "Trump": {
        "first": "Donald",
        "last": "Trump",
        "color": "#FA9894",
        "img": "donald-trump.jpg"
    },
    "Kasich": {
        "first": "John",
        "last": "Kasich",
        "color": "#95C2C9",
        "img": "john-kasich.jpg"
    },
    "Gilmore": {
        "first": "Jim",
        "last": "Gilmore",
        "color": "#fff",
        "img": "jim-gilmore.jpg"
    },
    "Other": {
        "first": "",
        "last": "Other",
        "color": "#C29FCC",
        "img": "blank.jpg"
    },
    "Uncommitted": {
        "first": "",
        "last": "Uncommitted",
        "color": "#C29FCC",
        "img": "blank.jpg"
    }
};

var voteCountLabels = {
    
        "47942": "Votes",
    
        "47931": "Votes"
    
};

function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

//
// MODELS
//

// Last updated
elections.LastUpdated = Backbone.Model.extend({
    idAttribute: 'raceid',
    defaults: {
        timestamp: "",
        electionid: ""
    }
});

// Individual candidate result objects
elections.Candidate = Backbone.Model.extend({
    idAttribute: 'candidateid',
    defaults: {
        photo: '',
        color: '#d9d9d9',
        img: '',
        candidateid: '',
        fipscode: '',
        first: '',
        last: '',
        lastupdated: '',
        precinctsreporting: 0,
        precinctsreportingpct: 0,
        precinctstotal: 0,
        votecount: 0,
        votepct: 0,
        delegates: 0,
        winner: false
    }
});

// County result objects
elections.County = Backbone.Model.extend({
    idAttribute: 'fipscode',
    defaults: {
        fipscode: '',
        name: '',
        color: '#d9d9d9',
        path: '',
        precinctstotal: 0,
        precinctsreporting: 0,
        tie: false,
        precinctsreportingpct: null,
        has_results: false,
        complete: false,
        radius: 0,
        centroid: [],
        results: []
    },
    initialize: function() {
        this.elid = this.get('collection').race.electionid + '_' + this.get('fipscode');
        this.el = '#' + this.elid;
        elections.counties[this.elid] = this;
        this.listenTo(this.model, "remove", function() {
            delete elections.counties[this.elid];
        });
        if (!elections.is_widget) {
            elections.tooltip.render();
        }
        return this;
    },
    get_color: function() {
        // No results color
        if (this.get('has_results') === false) {
            return '#d9d9d9';
        }
        // Tie color
        if (this.get('tie') === true) {
            return '#757575'
        }
        var first_result = this.get('results')[0];
        var cand = elections.candidates[first_result.last];
        if (cand === undefined) {
            cand = elections.candidates['Other'];
        }
        return cand.color;
    },
});

//
// COLLECTIONS
//

// Collection to store and update the candidates
elections.CandidateCollection = Backbone.Collection.extend({
    model: elections.Candidate,
    parse: function(data) {
        var results = [];
        _.each(data.top_level_results, function(obj) {
            results.push(
                _.extend(obj, elections.candidates[obj.last])
            )
        });
        return results;
    }
});

// Collection of counties for the map
elections.CountyCollection = Backbone.Collection.extend({
    model: elections.County,
    parse: function(data) {
        var county_data = elections.county_data[this.race.state_fips];
        var transform = [];
        var res = data.detailed_results;
        _.each(res, function(value, key) {
            var fips;
            if (key.indexOf('-') === -1) {
                fips = key.slice(2, 5);
            } else {
                fips = key.split('-')[1];
            }
            var radius = elections.calculate_proportional_radius(value.margin_of_victory, data.max_margin_victory);
            var tmp = _.extend(value, {
                radius: radius,
                fipscode: fips
            });
            var path, centroid;
            var key = tmp[elections.county_key];
            if (county_data[key] !== undefined) {
                path = county_data[key].path;
                centroid = county_data[key].centroid
            } else {
                path = "";
                centroid = [0, 0];
            }

            var tmp = _.extend(tmp, {
                path:  path,
                centroid: centroid
            });
            transform.push(tmp)
        });
        return transform;
    }
});

//
// MODEL VIEWS
//

// View for an individual county
elections.IndividualCountyView  = Backbone.View.extend({
    initialize: function() {
        this.listenTo(this.model, "change", this.update);
    },
    get_fill: function(color, canvas) {
        if (this.model.get('complete') || !this.model.get('has_results')) {
            return color;
        }
        var parsed = Snap.color(color),
            stripe = "rgba(" + parsed.r + ", " + parsed.g + ", " + parsed.b + ", 0.65)";
        var p = canvas.g(
            canvas.rect(0,0,10,5).attr({fill: stripe}),
            canvas.rect(0,5,10,5).attr({fill: color})
        );
        return p.pattern().transform("rotate(135)");
    },
    render_path: function(snap_canvas) {
        var canvas = this.snap_canvas = snap_canvas,
            id = this.model.elid,
            color = this.model.get_color(),
            fill = this.get_fill(color, canvas);

        var stroke_width = elections.default_stroke_width;
        if (elections.is_widget) {
            var stroke_width = 0;
        }
        var path = this.model.get('path');
        var pth = canvas.path(path).attr({
            fill: color,
            stroke: '#FFF',
            strokeWidth: stroke_width,
            elid: id
        }).attr({
            fill: fill
        }).addClass('map-path');
        this.path = pth;
        return this;
    },
    render_circle: function(snap_canvas) {
        var canvas = this.snap_canvas = snap_canvas,
            id = this.model.elid,
            centroid = this.model.get('centroid'),
            radius = this.model.get('radius'),
            color = this.model.get_color();

        var circle = canvas.circle(centroid[0], centroid[1], radius).attr({
            fill: color,
            stroke: color,
            'fill-opacity': 0.90,
            strokeWidth: 1,
            elid: id
        }).addClass('map-circle').addClass('hidden');
        this.circle = circle;
        return this;
    },
    update: function() {
        var mapstate = this.mapview.map_state,
            color = this.model.get_color(),
            fill = this.get_fill(color, this.snap_canvas);

        this.path.attr({
            fill: fill
        });
        if (!elections.is_widget) {
            this.circle.attr({
                fill: color,
                stroke: color,
                r: this.model.get('radius')
            });
        }
        return this;
    }
});

// Separate view
elections.TouchTooltipView = Backbone.View.extend({
    initialize: function() {
        this.listenTo(this.model, "change", this.render);
        this.$container = false;
        this.template = elections.tooltip_template;
    },
    render: function() {
        if (!this.$container) {
            this.$container = $('.touch-tooltip', $('[data-electionid="' + this.race.electionid + '"]'));
        }
        if (this.model != undefined) {
            var html = this.template(_.extend(this.model.toJSON(), {
                race_id: this.model.elid.split('_')[0],
                vote_count_label: voteCountLabels[this.model.elid.split('_')[0]]
            }));
            this.$container.html(html);
        }
        return this;
    },
    clear: function() {
        this.$container.html('');
    }
});

// View for the selector thing
elections.TouchSelectorView = Backbone.View.extend({
    initialize: function() {
        this.template = elections.mobile_dropdown_template;
    },
    events: {
        "change": "onchange"
    },
    element: "select",
    onchange: function(event) {
        var val = $('select', this.$el).val();
        var e = jQuery.Event("touchend", {
            target: $('[elid="' + val + '"]')[0]
        });
        $('svg').trigger(e);
    },
    render: function() {
        this.$container = $('.county-select', $('[data-electionid="' + this.race.electionid + '"]'));
        var counties = [];
        this.collection.each(function(model) {
            counties.push({
                name: model.get('name'),
                id: model.elid
            });
        }, this);
        var html = this.template({
            counties: counties,
            electionid: this.race.electionid
        });
        this.$el.html(html);
        this.$container.append(this.$el);
        return this;
    }
});

// Tooltip view, also corresponds in to an individual county
elections.TooltipView = Backbone.View.extend({
    initialize: function() {
        this.listenTo(this.model, "change", this.render);
        this.template = elections.tooltip_template;
        // main tooltip for desktop
        $('body').prepend(this.$el);
    },
    render: function() {
        if (this.model != undefined) {
            var html = this.template(_.extend(this.model.toJSON(), {
                race_id: this.model.elid.split('_')[0],
                vote_count_label: voteCountLabels[this.model.elid.split('_')[0]]
            }));
            this.$el.html(html);
            this.width = this.$el.width();
        }
        return this;
    },
    position: function(e) {
        var winwidth = elections.window_width,
            is_mobile = elections.is_mobile,
            tooltip = elections.tooltip,
            x_dist = (tooltip.width/2)-30,
            x_pos = (tooltip.width/2)+30,
            y = e.pageY + 30,
            x = e.pageX - x_dist;

        if (e.pageX + x_pos + 10 > winwidth) {
            var overflow = (e.pageX + x_pos + 10) - winwidth;
            x = x - overflow;
        }

        elections.tooltip.$el
            .css("left", x)
            .css("top", y);
    },
    show: function() {
        this.$el.show();
        return this;
    },
    hide: function() {
        this.$el.hide();
        return this;
    }
});

// Render the buttons that toggle the map choropleth and proportional
elections.ButtonView = Backbone.View.extend({
    initialize: function() {
        if (!elections.is_widget) {
            this.template = elections.button_template;
        }
    },
    className: "btn-group",
    tagName: "div",
    events: {
        "click button": "click"
    },
    click: function(event) {
        var $target = $(event.target),
            target_mapstate = $target.attr('data-map'),
            current_mapstate = this.race.results_map.map_state;

        if (target_mapstate !== current_mapstate) {
            $('button', this.$el).removeClass('active');
            $target.addClass('active');
            this.race.results_map.toggle_map();
            // Ping Google Analytics and us them know somebody actually clicked it
            ga('send', 'event', 'click', 'elections-2016-map-toggle');
        }
    },
    render: function() {
        var html = this.template();
        this.$el.html(html);
        $('.button-container', $('[data-electionid="' + this.race.electionid + '"]')).append(this.$el);
    }
});

// Render the precincts reporting and pct.
elections.PctReportingView = Backbone.View.extend({
    initialize: function() {
        this.listenTo(this.collection, "reset", this.render);
        this.$container = false;
        this.template = elections.reporting_template;
    },
    render: function() {
        if (!this.$container) {
            this.$container = $('.reporting', $('[data-electionid="' + this.race.electionid + '"]'));
        }
        var html = this.template(this.collection.models[0].toJSON());
        this.$container.html(html);
        return this;
    }
});

// Render the last updated
elections.LastUpdatedView = Backbone.View.extend({
    initialize: function() {
        this.listenTo(this.model, "change", this.render);
        this.$container = false;
        this.template = elections.last_updated_template;
    },
    render: function() {
        if (!this.$container) {
            this.$container = $('.updated', $('[data-electionid="' + this.model.get('electionid') + '"]'));
        }
        var html = this.template({date: this.model.get('timestamp')});
        this.$container.html(html);
        return this;
    }
});

//
// COLLECTION VIEWS
//

// View for the left rail of candidates
elections.CandidateResultsRail = Backbone.View.extend({
    initialize: function() {
        this.listenTo(this.collection, "reset", this.render);
        this.results_template = elections.candidate_template;
        if (!elections.is_widget) {
            this.no_results_template = elections.candidate_template_no_results;
        }
    },
    template: function(options) {
        if (options === undefined) {
            options = {};
        }
        return {
            html: this.results_template(options),
            results: true
        };
    },
    render: function() {
        var candidates = []
        this.collection.each(function(model) {
            candidates.push(model.toJSON());
        }, this);
        var res = this.template({
            candidates: candidates,
            race_id: this.race.electionid,
            vote_count_label: voteCountLabels[this.race.electionid]
        });
        this.$el.html(res.html);
        if (!res.results) {
            this.$el.closest('.row').addClass('no-results');
        } else {
            this.$el.closest('.row').removeClass('no-results');
        }
        return this;
    },
});

// View for the map
elections.ResultsMap = Backbone.View.extend({
    initialize: function() {
        if (!elections.is_widget) {
            this.listenTo(this.collection, "update", function() {
                elections.tooltip.render();
            });
        }
    },
    tooltip_render: function(event) {
        var target_id = event.target.getAttribute('elid');
        var target_element = elections.counties[target_id];
        elections.tooltip.model = target_element;
        elections.tooltip.render();
        elections.tooltip.show();
    },
    tooltip_touch: function(event) {
        if (!elections.is_mobile) {
            return this;
        }
        var target_id = event.target.getAttribute('elid');
        var target_element = elections.counties[target_id];
        var $elements = $('[elid="' + target_element.elid + '"]');
        curr_model = this.race.touchtooltipview.model;
        if (curr_model === target_element) {
            $elements.removeClass('county-touch');
            this.race.touchtooltipview.clear();
            this.race.touchtooltipview.model = null;
        } else {
            $elements.addClass('county-touch');
            if (curr_model != undefined) {
                $('[elid="' + curr_model.elid + '"]').removeClass('county-touch');
            }
            this.race.touchtooltipview.model = target_element;
            this.race.touchtooltipview.render();
        }
        return false;
    },
    tooltip_position: function(event) {
        elections.tooltip.position(event);
    },
    tooltip_hide: function(event) {
        elections.tooltip.hide();
    },
    render_cities: function(canvas) {
        if (elections.cities) {
            _.each(elections.cities, function(obj) {
                _.extend({
                    'pos': 'r'
                }, obj);
                var r = 4, x = obj.x + 13, y = obj.y - 1;
                if (elections.is_widget) {
                    r = 8, x += 5;
                }
                if (obj.x > 740 || obj.pos === 't') {
                    x = obj.x - 70, y = obj.y - 15;
                }
                if (obj.pos === 'l') {
                    x = obj.x - 18, y = obj.y - 1;
                }
                canvas.circle(obj.x, obj.y, r).attr({
                    fill: '#000',
                    stroke: 'rgba(255, 255, 255, 0.5)',
                    strokeWidth: 1
                });
                var txt = canvas.text(x, y, obj.name).addClass('svg-city');
                if (obj.pos === 'l') {
                    txt.attr({
                        'text-anchor': 'end'
                    });
                }
            });
        }
    },
    render_missing: function() {
        var self = this;
        var excluded = [];
        var stroke_width = elections.default_stroke_width;
        if (elections.is_widget) {
            var stroke_width = 0;
        }
        _.each(elections.county_data[this.race.state_fips], function(value, key) {
            if (!_.contains(self.already_rendered, key)) {
                self.canvas.path(value).attr({
                    fill: '#DDD',
                    stroke: 'rgba(255, 255, 255, 0.5)',
                    strokeWidth: stroke_width
                }).addClass('excluded');
                excluded.push(key);
            }
        });
    },
    render: function() {
        var self = this;
        this.already_rendered = [];
        this.canvas = Snap(this.$el[0]);
        // First loop through and make the counties
        this.collection.each(function(model) {
            var item = new elections.IndividualCountyView({model: model});
            item.mapview = self;
            model.view = item;
            item.render_path(this.canvas);
            self.already_rendered.push(item.model.get(elections.county_key));
        }, this);
        this.$counties = $('.map-path', this.$el);
        this.render_missing();
        // Come back and add the circles so they show up on top
        if (!elections.is_widget) {
            this.collection.each(function(model) {
                model.view.render_circle(this.canvas);
            }, this);
            this.$circles = $('.map-circle', this.$el);
        }
        this.render_cities(this.canvas);
        return this;
    },
    map_state: "choropleth",
    toggle_map: function() {
        if (this.map_state === "choropleth") {
            this.$counties.addClass('force-gray');
            this.$circles.removeClass('hidden');
            this.map_state = "proportional";
            return this;
        } else if (this.map_state === "proportional") {
            this.$circles.addClass('hidden');
            this.$counties.removeClass('force-gray');
            this.map_state = "choropleth";
            return this;
        }
        return false;
    }
});

//
// ETC AND INIT
//

// Set up our own race object
var Race = elections.Race = function(options) {
    var options = _.extend({
        electionid: null,
        state_fips: null
    }, options);
    this.electionid = options.electionid;
    this.state_fips = options.state_fips;
    this.url = elections.domain +  '/election-2016-' + this.electionid + '-feed.json';
    this.elementid = '#' + this.electionid + '-results';
    this.mapid = '#' + this.electionid + '-map';
};

Race.prototype.init = function() {
    var self = this;
    // make the collections
    this.candidate_collection = new elections.CandidateCollection();
    this.county_collection = new elections.CountyCollection();
    this.last_updated = new elections.LastUpdated({
        electionid: this.electionid
    });
    // Generate our views
    this.results_rail = new elections.CandidateResultsRail({
        collection: this.candidate_collection,
        el: this.elementid,
    });
    // Results map, with or without the events activated depending on widget
    if (!elections.is_widget) {
        this.results_map = new elections.ResultsMap({
            collection: this.county_collection,
            el: this.mapid,
            events: {
                "mouseenter path:not(.excluded)": "tooltip_render",
                "mousemove path:not(.excluded)": "tooltip_position",
                "mouseleave path:not(.excluded)": "tooltip_hide",
                "mouseenter circle": "tooltip_render",
                "mousemove circle": "tooltip_position",
                "mouseleave circle": "tooltip_hide",
                // Touch stuff
                "touchend circle": "tooltip_touch",
                "touchend path": "tooltip_touch"
            }
        });
    } else {
        this.results_map = new elections.ResultsMap({
            collection: this.county_collection,
            el: this.mapid
        });
    }
    // View to render the global precincts reporting
    this.pctreportingview = new elections.PctReportingView({
        collection: this.candidate_collection
    });
    // And the last updated
    this.lastupdatedview = new elections.LastUpdatedView({
        model: this.last_updated
    });
    // Touch tooltip
    if (!elections.is_widget) {
        this.touchtooltipview = new elections.TouchTooltipView();
        this.touchtooltipview.race = this;
        // this.touchselectorview = new elections.TouchSelectorView({
        //     collection: this.county_collection
        // });
        // this.touchselectorview.race = this;
    }
    // Oh because for some reason you can't init the view with
    // arbitrary properties and we need to be able to walk this back.
    this.results_map.race = this;
    this.results_rail.race = this;
    this.pctreportingview.race = this;
    this.lastupdatedview.race = this;
    this.county_collection.race = this;
    if (!elections.is_widget) {
        // buttons for toggling the map
        this.buttons = new elections.ButtonView();
        this.buttons.race = this;
    }
    // Fetch the data and do the initial render on a callback
    this.fetch(function() {
        self.render();
    });
    // set up a periodic update
    setInterval(function() {
        self.fetch();
    }, elections.polling_interval);
    return this;
};

Race.prototype.fetch = function(callback) {
    if (callback === undefined) {
        callback = false;
    }
    var self = this,
        candidate_collection = self.candidate_collection,
        county_collection = self.county_collection,
        candidate = self.candidate_collection.model,
        county = self.county_collection.model;

    $.ajax(this.url, {
        ifModified: true
    }).done(function(data, textStatus, jqXHR) {
        if (textStatus !== "notmodified") {
            // Parse our feed and set up some containers
            var cd = county_collection.parse(data),
                candidate_data = candidate_collection.parse(data),
                counties = [],
                candidates = [];
            // set the timestamp on the last updated model
            self.last_updated.set({
                timestamp: data.lastupdated
            });
            // Loop through the parsed data and create new Backbone
            // objects we can use to update the collections.
            _.each(cd, function(obj) {
                counties.push(
                    new county(_.extend({
                        collection: county_collection
                    }, obj))
                );
            });
            _.each(candidate_data, function(obj) {
                candidates.push(new candidate(obj))
            });
            // Basically an update/create for each of the models
            candidate_collection.reset(candidates);
            county_collection.set(counties);
            if (callback) {
                return callback();
            }
        }
    });
};

Race.prototype.render = function() {
    this.results_map.render();
    if (!elections.is_widget) {
        this.buttons.render();
        // this.touchselectorview.render();
    }
    return this;
};

// proportional radius calculator
elections.calculate_proportional_radius = function(margin_victory, max) {
    var r = Math.sqrt(margin_victory/max)*this.max_proportional_radius;
    if (!r) {
        return 0;
    } else {
        return r;
    }
};

// Some responsive helpers
elections.update_dynamic_vars = function() {
    var width = elections.window_width = $(window).width();
    elections.is_mobile = false;
    if (width < 768) {
        elections.is_mobile = true;
    }
};

// Init for making one or more races
elections.init = function(options) {
    var blank_templ = _.template('');
    var options = _.extend({
        electionids: [],
        max_proportional_radius: 40,
        is_widget: false,
        candidate_template: blank_templ,
        reporting_template: blank_templ,
        last_updated_template: blank_templ,
        mobile_dropdown_template: blank_templ,
        button_template: blank_templ,
        tooltip_template: blank_templ,
        candidate_template_no_results: blank_templ,
        domain: "",
        county_key: "fipscode",
        cities: [],
        polling_interval: 45000,
        default_stroke_width: 1,
        callback: false
    }, options);
    _.extend(this, options);
    this.update_dynamic_vars();
    var debounced_update = _.debounce(this.update_dynamic_vars, 150);
    $(window).resize(function() {
        debounced_update();
    });
    // Init the tooltip, it's shared among the maps
    if (!options.is_widget) {
        this.tooltip = new elections.TooltipView({
            id: 'tooltip'
        });
    }
    // Get a dict of our county objects so we can find them
    // when we have a hover event
    this.counties = {};
    // Loop through the elections ids and make the race objs
    // Then init them
    elections.races = [];
    _.each(options.electionids, function(eid) {
        var r = new Race({
            electionid: eid.ap_id,
            state_fips: eid.fips
        }).init();
        elections.races.push(r);
    });
    if (options.callback) {
        return options.callback();
    }
}

    </script>

    
    
</head>
<body data-ad-path="4011/trb.latimes/news/datadesk" data-ad-ptype="s" data-ad-iframe-url="/static/ngux-tophat-ad-iframe.html" >
    <!-- NAV -->
    
    <div id="tophat-container">
        <div id="tophat" class="tophat-small">
            <span id="tophat-dropdown" class="tophat-dropdown-small">
                <hr />
                <hr />
                <hr />
            </span>
            <a id="tophat-logo" href="http://www.latimes.com/"></a>
            <div id="tophat-title">
                <a href="http://www.latimes.com/trailguide">Campaign 2016</a>
            </div>
            <div class="tophat-chapters">
                <ul>
                    
                    <li><a href="http://www.latimes.com/trailguide">Live blog</a></li>
                    <li><a href="/2016-election-delegates/">Delegate tracker</a></li>
                    
                    
                </ul>
            </div>

            <div class="tophat-links">
                <ul>
    <li>
        <a href="http://www.latimes.com/local">Local</a>
    </li>
    <li>
        <a href="http://www.latimes.com/california">California</a>
    </li>
    <li>
        <a href="http://www.latimes.com/sports">Sports</a>
    </li>
    <li>
        <a href="http://www.latimes.com/entertainment">Entertainment</a>
    </li>
    <li>
        <a href="http://www.latimes.com/nation">Nation</a>
    </li>
    <li>
        <a href="http://www.latimes.com/world">World</a>
    </li>
    <li>
        <a href="http://www.latimes.com/business">Business</a>
    </li>
    <li>
        <a href="http://www.latimes.com/opinion">Opinion</a>
    </li>
    <li>
        <a href="http://www.latimes.com/style">Lifestyle</a>
    </li>
    <li>
        <a href="http://www.latimes.com/travel">Travel</a>
    </li>
</ul>

            </div>
        </div>
    </div>


    
<div class="hidden-desktop">
    <aside title="Advertisement" class="banner-ad">
    <div class="tophat-banner-container">
        <div class="tophat-banner">
            <div class="advert"></div>
            <span class="tophat-ad-label">ADVERTISEMENT</span>
        </div>
    </div>
</aside>

</div>
<div class="container topper">
    <div class="row">
        <div class="span8 intro">
            <div class="sharebuttons clearfix"
    
    
    
    >
    <i class="LATFacebook" data-socialshare-type="facebook"></i>
    <i class="LATTwitter" data-socialshare-type="twitter" ></i>
    <i class="LATEmail" data-socialshare-type="email"></i>
</div>

            <h1 class="sans-black">Results from the Virginia primary</h1>
            <p class="byline sans-bold" style="font-weight:normal !important;">
                By <span class="author">
                    <a href="https://twitter.com/mazet">Lily Mihalik</a>,
                </span>
                <span class="author">
                    <a href="http://www.latimes.com/la-bio-anthony-pesce-staff.html">Anthony Pesce</a>
                </span>
                 and
                <span class="author">
                    <a href="http://www.latimes.com/la-bio-ben-welsh-staff.html">Ben Welsh</a>
                </span>
            </p>
            <p class="dateline sans">
                <time datetime="2016-03-01" pubdate>March 1, 2016</time>
            </p>
            <div class="row-fluid">
                <div class="sans description span7">
                    <p>
                        Virginia is one of 12 states holding contests on Super Tuesday, the busiest day of the election season. Results are expected after polls close at 4 p.m. Pacific. <a href="/2016-election-super-tuesday-results/">Complete Super Tuesday results &raquo;</a>
                    </p>
                </div>
                <div class="span5">

<form class="standalone-dropdown" style="margin-top:14px">
    <fieldset>
        <select id="state_picker">
            <option value="" selected>Choose another primary</option>
        
            <option value="/election-2016-alabama-results/">Alabama</option>
        
            <option value="/election-2016-alaska-results/">Alaska</option>
        
            <option value="/election-2016-arizona-results/">Arizona</option>
        
            <option value="/election-2016-arkansas-results/">Arkansas</option>
        
            <option value="/election-2016-colorado-results/">Colorado</option>
        
            <option value="/election-2016-connecticut-results/">Connecticut</option>
        
            <option value="/election-2016-delaware-results/">Delaware</option>
        
            <option value="/election-2016-district-of-columbia-results/">District of Columbia</option>
        
            <option value="/election-2016-florida-results/">Florida</option>
        
            <option value="/election-2016-georgia-results/">Georgia</option>
        
            <option value="/election-2016-hawaii-results/">Hawaii</option>
        
            <option value="/election-2016-idaho-results/">Idaho</option>
        
            <option value="/election-2016-illinois-results/">Illinois</option>
        
            <option value="/election-2016-indiana-results/">Indiana</option>
        
            <option value="/election-2016-iowa-results/">Iowa</option>
        
            <option value="/election-2016-kansas-results/">Kansas</option>
        
            <option value="/election-2016-kentucky-results/">Kentucky</option>
        
            <option value="/election-2016-louisiana-results/">Louisiana</option>
        
            <option value="/election-2016-maine-results/">Maine</option>
        
            <option value="/election-2016-maryland-results/">Maryland</option>
        
            <option value="/election-2016-massachusetts-results/">Massachusetts</option>
        
            <option value="/election-2016-michigan-results/">Michigan</option>
        
            <option value="/election-2016-minnesota-results/">Minnesota</option>
        
            <option value="/election-2016-mississippi-results/">Mississippi</option>
        
            <option value="/election-2016-missouri-results/">Missouri</option>
        
            <option value="/election-2016-nebraska-results/">Nebraska</option>
        
            <option value="/election-2016-nevada-results/">Nevada</option>
        
            <option value="/election-2016-new-hampshire-results/">New Hampshire</option>
        
            <option value="/election-2016-new-york-results/">New York</option>
        
            <option value="/election-2016-north-carolina-results/">North Carolina</option>
        
            <option value="/election-2016-ohio-results/">Ohio</option>
        
            <option value="/election-2016-oklahoma-results/">Oklahoma</option>
        
            <option value="/election-2016-pennsylvania-results/">Pennsylvania</option>
        
            <option value="/election-2016-rhode-island-results/">Rhode Island</option>
        
            <option value="/election-2016-south-carolina-results/">South Carolina</option>
        
            <option value="/election-2016-tennessee-results/">Tennessee</option>
        
            <option value="/election-2016-texas-results/">Texas</option>
        
            <option value="/election-2016-utah-results/">Utah</option>
        
            <option value="/election-2016-vermont-results/">Vermont</option>
        
            <option value="/election-2016-virginia-results/">Virginia</option>
        
            <option value="/election-2016-washington-results/">Washington</option>
        
            <option value="/election-2016-wisconsin-results/">Wisconsin</option>
        
            <option value="/election-2016-wyoming-results/">Wyoming</option>
        
        </select>
    </fieldset>
</form>
<script>
    var picker = $('#state_picker');
    picker.change(function() {
        var link = picker.val();
        if (link) {
            window.location = link;
        }
    });
</script></div>
            </div>
        </div>
        <div class="span4 cube-container visible-desktop">
            <aside title="Advertisement" class="cube-ad">
    <div class="tophat-cube" id='div-gpt-ad-240326138443017849-1'>
        <div class="advert" data-ad-type="cube"></div>
        <span class="tophat-ad-label">ADVERTISEMENT</span>
    </div>
</aside>

        </div>
    </div>
</div>



<div data-electionid="47931" id="republican" class="container election republican">
    <div class="row map-topper">
        <div class="span4  mobile-60">
            <h2 class="sans-bold">Republican Primary</h2>
            
                <h5 class="updated"></h5>
            
        </div>
        <div class="span3 mobile-40 reporting"></div>
        <div class="span5 button-container sans"></div>
    </div>
    <div class="row">
        <div class="span4">
            <div class="candidate-list sans" id="47931-results"></div>
            <div class="show-more sans">
                <i class="LATPlus"></i>
                <div>
                    More<br />Results
                </div>
            </div>
        </div>
        <div class="span8 map-container">
            <div class="overlay sans-bold">First results expected after 5:30 p.m. PST</div>
            
            <svg viewBox="-10 -90 810 473" id="47931-map" class="results-map"></svg>
        </div>
    </div>
    <div class="row">
        <div class="span12 key-container sans">
            
            
            <div class="key">
                <span class="swatch" style="background: #F2F2F2"></span> No results
            </div>
            <div class="key">
                <span class="swatch" style="background: #757575"></span> Tie
            </div>
            <div class="key">
                <span class="swatch" style="background: url('/static/img/elections_2016/key-swatch-caucus.png')"></span> Leading
            </div>
            <div class="clear"></div>
        </div>
    </div>

    <div class="row visible-phone">
        <div class="span12 visible-phone touch-tooltip"></div>
    </div>

    

    <noscript>
        <div class="row">
            <table class="table span12">
                <thead>
                    <tr>
                        <th>Candidate</th>
                        <th>Votes</th>
                        <th>Percent</th>
                        <th>Precincts reporting</th>
                    </tr>
                </thead>
                <tbody>
                
                    <tr>
                        <td>Donald Trump WINNER</td>
                        <td>355,960</td>
                        <td>34.7</td>
                        <td>100.0%</td>
                    </tr>
                
                    <tr>
                        <td>Marco Rubio </td>
                        <td>327,042</td>
                        <td>31.9</td>
                        <td>100.0%</td>
                    </tr>
                
                    <tr>
                        <td>Ted Cruz </td>
                        <td>173,193</td>
                        <td>16.9</td>
                        <td>100.0%</td>
                    </tr>
                
                    <tr>
                        <td>John Kasich </td>
                        <td>96,519</td>
                        <td>9.4</td>
                        <td>100.0%</td>
                    </tr>
                
                    <tr>
                        <td>Ben Carson </td>
                        <td>60,093</td>
                        <td>5.9</td>
                        <td>100.0%</td>
                    </tr>
                
                    <tr>
                        <td> Other </td>
                        <td>12,106</td>
                        <td>1.2</td>
                        <td>100.0%</td>
                    </tr>
                
                </tbody>
            </table>
        </div>
    </noscript>
</div>

<div data-electionid="47942" id="democrat" class="container election democrat">
    <div class="row map-topper">
        <div class="span4  mobile-60">
            <h2 class="sans-bold">Democratic Primary</h2>
            
                <h5 class="updated"></h5>
            
        </div>
        <div class="span3 mobile-40 reporting"></div>
        <div class="span5 button-container sans"></div>
    </div>
    <div class="row">
        <div class="span4">
            <div class="candidate-list sans" id="47942-results"></div>
            <div class="show-more sans">
                <i class="LATPlus"></i>
                <div>
                    More<br />Results
                </div>
            </div>
        </div>
        <div class="span8 map-container">
            <div class="overlay sans-bold">First results expected after 5:30 p.m. PST</div>
            
            <svg viewBox="-10 -90 810 473" id="47942-map" class="results-map"></svg>
        </div>
    </div>
    <div class="row">
        <div class="span12 key-container sans">
            
            
            <div class="key">
                <span class="swatch" style="background: #F2F2F2"></span> No results
            </div>
            <div class="key">
                <span class="swatch" style="background: #757575"></span> Tie
            </div>
            <div class="key">
                <span class="swatch" style="background: url('/static/img/elections_2016/key-swatch-caucus.png')"></span> Leading
            </div>
            <div class="clear"></div>
        </div>
    </div>

    <div class="row visible-phone">
        <div class="span12 visible-phone touch-tooltip"></div>
    </div>

    

    <noscript>
        <div class="row">
            <table class="table span12">
                <thead>
                    <tr>
                        <th>Candidate</th>
                        <th>Votes</th>
                        <th>Percent</th>
                        <th>Precincts reporting</th>
                    </tr>
                </thead>
                <tbody>
                
                    <tr>
                        <td>Hillary Clinton WINNER</td>
                        <td>503,358</td>
                        <td>64.3</td>
                        <td>100.0%</td>
                    </tr>
                
                    <tr>
                        <td>Bernie Sanders </td>
                        <td>275,507</td>
                        <td>35.2</td>
                        <td>100.0%</td>
                    </tr>
                
                    <tr>
                        <td> Other </td>
                        <td>4,030</td>
                        <td>0.5</td>
                        <td>100.0%</td>
                    </tr>
                
                </tbody>
            </table>
        </div>
    </noscript>
</div>




<script type="text/template" id="candidate_template">
        <% if (candidates[0].winner) { %>
        <div class="state-called">
            <% if(candidates[0].precinctsreportingpct<100) { %>
                <%= candidates[0].last %> is projected to win by the AP
            <% } else { %>
                <%= candidates[0].last %> won the most votes
            <% } %>
        </div>
        <% } %>

    <table class="candidate-rail <% if (candidates[0].winner) { %>has-winner<% } %>">
        <thead>
            <tr>
                <th></th>
                <th></th>
                <th colspan="2">Delegates</th>
                <th><%= vote_count_label %></th>
                <th>Pct.</th>
            </tr>
        </thead>
        <tbody>
        <% _.each(candidates, function(candidate, index) { %>
            <tr>
                <td>
                    <div class="candidate-swatch" style="background:<%= candidate.color %>"></div>
                </td>
                <% if (candidate.img) { %>
                <td>
                    <img class="candidate-image img-circle" src="/static/img/elections_2016/small/<%= candidate.img %>" />
                </td>
                <% } %>
                <td <% if (!candidate.img) { %>colspan="2"<% } %>>
                    <span class="candidate-first"><%= candidate.first %></span>
                    <span class="candidate-last"><%= candidate.last %> <% if (candidate.winner) { %><i class="LATCheck"></i><% } %></span>
                </td>
                <td class="candidate-res">
                    <% if (candidate.delegates !== undefined && candidate.last !== 'Other') { %><%= candidate.delegates %><% } %>
                </td>
                <td class="candidate-res"><%= candidate.votecount %></td>
                <td class="candidate-res"><%= candidate.votepct.toFixed(1) %>%</td>
            </tr>
        <% }); %>
        </tbody>
    </table>
</script>



<script type="text/template" id="tooltip_template">
    <div class="tooltip_topper">
        <div class="tooltip_county_name sans-bold">
            <%= name %>
        </div>
        <div class="tooltip_precincts_reporting sans">Precincts: <%= precinctsreportingpct.toFixed(1) %>% <%= precinctsreporting %>/<%= precinctstotal %></div>
    </div>
    <div class="tooltip_body sans">
        <table>
            <thead>
                <tr>
                    <th></th>
                    <th class="votes sans-bold"><%= vote_count_label.toUpperCase() %></th>
                    <th class="percent sans-bold">PERCENT</th>
                </tr>
            </thead>
            <tbody>
            <% _.each(results, function (candidate) { %>
                <tr>
                    <td class="tooltip_candidate_name sans">
                        <%= candidate.last %>
                    </td>
                    <td class="tooltip_candidate_vote_total sans"><%= candidate.votecount %></td>
                    <td class="tooltip_candidate_percent_vote sans">
                        <% if (candidate.votepct != 0) { %>
                            <%= candidate.votepct.toFixed(1) %>%
                        <% } else { %>
                            --
                        <% }; %>
                    </td>
                </tr>
            <% }); %>
            </tbody>
        </table>
    </div>
</script>

<script type="text/template" id="candidate_template_no_results">
    <ul class="candidates-no-results">
    <% _.each(candidates, function(candidate) { %>
        <% if (candidate.last.toLowerCase() !== 'other' && candidate.last.toLowerCase() !== 'uncommitted') { %>
            <li>
                <% if (candidate.img) { %>
                    <img class="candidate-image img-circle" src="/static/img/elections_2016/small/<%= candidate.img %>" />
                <% } %>
                <div class="no-results-name">
                    <span class="candidate-first"><%= candidate.first %></span>
                    <span class="candidate-last"><%= candidate.last %></span>
                </div>
                <div class="clear"></div>
            </li>
        <% } %>
    <% }); %>
    </ul>
</script>
<script type="text/template" id="button_template">
    <button data-map="choropleth" class="btn active sans">Leader by county</button>
    <button data-map="proportional" class="btn sans">Leader by margin</button>
</script>
<script type="text/template" id="reporting_template">
    <div class="pct-reporting sans-bold"><%= precinctsreportingpct.toFixed(1) %>% reporting</div>
    <div class="precincts-reporting sans" style="padding-top:4px;"><%= precinctsreporting %>/<%= precinctstotal %> precincts</div>
</script>
<script type="text/template" id="last_updated_template"><div class="sans" style="padding-top:4px;">Last updated: <%= date %></div></script>
<script type="text/template" id="mobile_dropdown_template">
    <select>
        <option>Choose a county</option>
    <% _.each(counties, function(county) { %>
        <option value="<%= county.id %>"><%= county.name %></option>
    <% }); %>
    </select>
</script>

<script>
    
elections.init({
    electionids: [
    {
        ap_id: "47931",
        fips: "51"
    },{
        ap_id: "47942",
        fips: "51"
    },],
    candidate_template: _.template($('#candidate_template').html()),
    reporting_template: _.template($('#reporting_template').html()),
    last_updated_template: _.template($('#last_updated_template').html()),
    mobile_dropdown_template: _.template($('#mobile_dropdown_template').html()),
    button_template: _.template($('#button_template').html()),
    tooltip_template: _.template($('#tooltip_template').html()),
    candidate_template_no_results: _.template($('#candidate_template_no_results').html()),
    max_proportional_radius: 30,
    cities: [
        {x: 342, y: 263, name: "Salem"},
        {x: 587, y: 228, name: "Richmond"},
        {x: 624, y: 71, name: "Arlington"}
    ],
    polling_interval: 30000,
    
     domain: "http://graphics.latimes.com"
    
});

// Also for annotation
var mobile_viewbox = "-10 -10 900 420",
    desktop_viewbox = "-10 -90 810 473";

function update_viewbox() {
    if (elections.is_mobile) {
        $('.results-map').each(function() {
            $(this)[0].setAttribute('viewBox', mobile_viewbox);
        });
    } else {
        $('.results-map').each(function() {
            $(this)[0].setAttribute('viewBox', desktop_viewbox);
        });
    }
}
update_viewbox();
var debounced_viewbox = _.debounce(this.update_viewbox, 150);
$(window).resize(function() {
    debounced_viewbox();
});


    // Show more trick
    $('.show-more').on('click', function(event){
        var $this = $(this),
            container = $this.siblings('.candidate-list'),
            show = container.hasClass('show');

        if (show) {
            container.removeClass('show');
            $this.html('<i class="LATPlus"></i><div>More<br>Results</div>');
        } else {
            container.addClass('show');
            $this.html('<i class="LATMinus"></i><div>Fewer<br>Results</div>');
        }
    });
</script>

<div class="container" style="margin-bottom:0; padding-bottom: 0">
    
    <div class="row">
        <div class="span12">
            <p class="sources sans">Source: Associated Press</p>
        </div>
    </div>
</div>


<div class="container">
    <div class="row">
        <aside class="mlt span12">
            <h2><a href="http://www.latimes.com/visuals/graphics/" title="L.A. Times Graphics"><i class="LATLink"></i>
                More Campaign 2016 coverage
                </a>
            </h2>
            <ul>
            
            
                <li>
                    <figure>
                        <a href="http://graphics.latimes.com/2016-election-delegates/">
                            <img src="http://www.trbimg.com/img-56ce28d0/turbine/la-2016-election-delegates-square/300/300x300">
                        </a>
                    </figure>
                    <a href="http://graphics.latimes.com/2016-election-delegates/"><span>Track the latest 2016 presidential delegate counts</span></a>
                </li>
                <li>
                    <figure>
                        <a href ="http://www.latimes.com/trailguide">
                            <img src="http://www.trbimg.com/img-564d37bc/turbine/la-pol-essential-politics-html-20150922-001/300/300x300">
                        </a>
                    </figure>
                    <a href ="http://www.latimes.com/trailguide">
                        <span>
                            Trail Guide: Follow the latest developments on our live blog
                        </span>
                    </a>
                </li>
                <li>
                    <figure>
                        <a href="http://www.latimes.com/entertainment/tv/showtracker/la-newsletter-essential-politics-signup-page-htmlstory.html">
                            <img src="http://www.trbimg.com/img-55db7c5e/turbine/la-trail-guide-promo-blurb-001/300/300x300">
                        </a>
                    </figure>
                    <a href="http://www.latimes.com/entertainment/tv/showtracker/la-newsletter-essential-politics-signup-page-htmlstory.html">
                        <span>Get a daily email blast that showcases the best from our political team</span>
                    </a>
                </li>
            </ul>
        </aside>
    </div>
</div>




    

        <!-- Google Analytics code -->
        <script type="text/javascript">
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-24686195-1', 'latimes.com');
              ga('send', 'pageview');
        </script>

        
        <script type="text/javascript">
            ((((window.trb || (window.trb = {})).data || (trb.data = {})).metrics || (trb.data.metrics = {})).thirdparty = {
                // Page naming convention:
                //  <site-slug>:<app-slug>:<path>:<datadesk-slug>-<page-slug>:<content-type>.
                // Example:
                //  lat:projects.latimes.com:local:data-pat-tillman:graphic.
                //  (Don't miss the period at the end.)
                pageName: 'lat:graphics:local:data-results-from-the-virginia-primary:graphic.',
                channel: 'local', // Path
                server: 'graphics.latimes.com', // Full domain
                hier1: 'latimes:local', // Path (with latimes prefix)
                hier2: 'local', // Path (again)
                prop2: 'local', // Path (again!)
                prop38: 'graphic', // Content type
                eVar1: window.location.href, // This URL
                eVar2: document.referrer, // The referring URL
                prop57: 'D=c38',
                eVar20: 'latimes',
                eVar21: 'D=c38',
                eVar34: 'D=ch',
                eVar35: 'D=gn'
            });
        </script>
        <script src="http://www.latimes.com/thirdpartyservice?disablenav=true"></script>
        

    

    
    <footer title="Footer">
        <div id="footer-container">
    <div id="footer">
        
            
                <a id="footer-logo" href="http://www.latimes.com/"></a>
            
            
                <div id="tos">
                    <a href="http://www.tribpub.com/central-terms-of-service/">Terms of Service</a> |
                    <a href="http://www.tribpub.com/privacy-policy-and-your-privacy-rights/">Privacy Policy</a> |
                    <a href="http://www.latimes.com/lat-about-our-ads,0,3875412.htmlstory">About Our Ads</a> |
                    <a href="http://www.latimes.com/services/site/la-reprint-request-splash,0,6731163.htmlstory">&copy; <script type="text/javascript">document.write(new Date().getFullYear())</script></a> |
                    <a href="http://www.latimes.com/about/">About This Site</a>
                </div>
            
        
    </div>
</div>

    </footer>
    

    
    


    
    <script type="text/javascript">
    var _sf_async_config={};
        /** CONFIGURATION START **/
        _sf_async_config.uid = 3908;
        _sf_async_config.domain = 'graphics.latimes.com';
        _sf_async_config.useCanonical = true;
        _sf_async_config.sections = '';
        _sf_async_config.authors = 'Data Desk';
        /** CONFIGURATION END **/
        (function(){
          function loadChartbeat() {
            window._sf_endpt=(new Date()).getTime();
            var e = document.createElement('script');
            e.setAttribute('language', 'javascript');
            e.setAttribute('type', 'text/javascript');
            e.setAttribute('src', '//static.chartbeat.com/js/chartbeat.js');
            document.body.appendChild(e);
          }
          var oldonload = window.onload;
          window.onload = (typeof window.onload != 'function') ?
             loadChartbeat : function() { oldonload(); loadChartbeat(); };
        })();
    </script>
    

</body>
<!--Good with data?-->
<!--Tired of grinding on the same old apps?-->
<!--Want to use your skills in defense of truth, justice and the American way?-->
<!--Email datadesk@latimes.com and let us know you're out there.-->
</html>
