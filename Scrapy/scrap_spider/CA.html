
 
<!DOCTYPE html>
<html>
    <head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
        
		<title>California&rsquo;s 25th Congressional District - CA-25 Representatives &amp; District Map - GovTrack.us</title>

		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
		<link media="all" rel="stylesheet" href="/static/css/all-min.css?20160310" />
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"/>

		<meta name="description" content="Congressional district for Palmdale, Santa Clarita, Acton and parts of Simi Valley, Lancaster, Los Angeles County, Ventura County. Find your U.S. Congress senators and representative in California&rsquo;s 25th Congressional District (CA25) using a map." />
		<meta name="keywords" content="United States Congress,U.S. Congress,congressional districts,map,senator,senators,representative,representatives,congressman,congressmen,congresswoman,congresswomen,House of Representatives,Senate" />
		 

		
		<meta property="fb:app_id" content="119329904748946" />
		<meta property="og:site_name" content="GovTrack.us" />
		<meta name="twitter:site" content="@GovTrack">
		
		<meta property="og:image" content="https://www.govtrack.us/static/images/media_icon.png?20160130" />
		<meta name="twitter:card" content="summary">
		
	

		

		<script type="text/javascript" src="/static/js/modernizr.js"></script> 
		
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		
		
			<script type="text/javascript" src="/_twostream/user-head?path=/congress/members/CA/25"> </script>


		
		<script type="text/javascript" src="/static/js/jquery.cookie.js"></script>
		<script type="text/javascript" src="/static/js/jquery-utils.js?20160310"></script>
		
		
		<script type="text/javascript">
		var user_district_callbacks = [];
		function onUserDistrictChanged() {
			function call_callback(cb) {
				// When there's known data, the state may be XX to indicate the user does not want to be prompted again for his/her district.
				var cd = cong_dist;
				if (cd && cd.state == "XX") cd = null;

				// Convert list to hashable array.
				var mocs = { };
				if (cong_dist_mocs) {
					for (var i = 0; i < cong_dist_mocs.length; i++)
						mocs[cong_dist_mocs[i]] = cong_dist_mocs[i];
				}

				// Call.
				cb(cd, mocs);
			}

			if (typeof arguments[0] == "function") {
				// Called with a callback. Execute immediately with known data, then save callback for later.
				var callback = arguments[0];
				call_callback(callback);
				user_district_callbacks.push(callback);
			} else {
				// Called with a new state and district. Save new info and execute callbacks.
				if (arguments[0] == null) {
					cong_dist = null;
					cong_dist_mocs = null;
				} else {
					cong_dist = { state: arguments[0], district: arguments[1] };
					cong_dist_mocs = arguments[2]; // array of IDs of the user's current MoCs
				}
				for (var i = 0; i < user_district_callbacks.length; i++)
					call_callback(user_district_callbacks[i]);
			}
		}

		
		<!-- Google Analytics -->
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA\u002D1190841\u002D1');
		ga('set', 'dimension1', the_user ? "Logged In" : "Anonymous");
		ga('set', 'dimension2', the_segment);
		ga('send', 'pageview');
		<!-- End Google Analytics -->
		
		</script>

		
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<style>
	#map_controls {
		list-style-type: none;
	}
	#map_controls > li {
		float: left;
		background-color: white;
		border: 2px solid #777;
		cursor: pointer;
		text-align: center;
		margin: 3px 6px 0 0;
		padding: 2px 4px 2px 4px;
	}
	#map_controls > li.active {
		background-color: #FFA;
	}
	#map_canvas { height: 100%; }
	#map_canvas * {  max-width: none !important; -webkit-box-sizing: content-box;
     -moz-box-sizing: content-box;
          box-sizing: content-box; } /* fix for bootstrap 3 */
	</style>

	</head>

<body class="">
    <!--[if lt IE 8]><p style="background-color: black; color: white;">Internet Explorer version 8 or any modern web browser is required to use this website, sorry.<![endif]-->
    <!--[if gt IE 7]><!-->

	
	<div id="sitenewscontainer" style="display: none">
		<div id="sitenews">
			<div class="ex"><a href="#" onclick="return hide_site_news()">X</a></div>
			

<div class="sitenewsbody" data-seq="82">
	<a href="/accounts/membership" class="btn btn-sm btn-success" style="text-decoration: none; margin-right: 1em; display: block; float: left;">
		<span class="glyphicon glyphicon-ok" aria-hidden="true" style="margin-right: 4px;"></span>
			Support GovTrack
		</a>
		<span style="font-size: 13px; line-height: 120%;">GovTrack is the only website that provides free research, tracking, and analytics on the daily activities of the United States Congress. Help us continue tracking Congress.</span>
</div>
<div style="clear: both"> </div>

		</div>
	</div>
	<script>
	function trackOutboundLink(link, category, action) { 
		try { 
			ga('send', 'event', category, action);
		} catch(err){}
		setTimeout(function() { document.location.href = link.href; }, 100);
		return false;
	}

	function hide_site_news() {
		$('#sitenewscontainer').fadeOut();
		$.cookie("sitenewsbanner", $('#sitenewscontainer .sitenewsbody').attr("data-seq"), { expires: 14, path: '/' });
	}
	$(function() {
		
		
		// get the first (after the X) link's href, and if it's the current page, don't show
		// the banner.
		var cur_link = null;
		try {
			cur_link = $('#sitenewscontainer a:not(:first)').first().attr("href");
		} catch (err) { }
			
		if ($.cookie("sitenewsbanner") != $('#sitenewscontainer .sitenewsbody').attr("data-seq")
			&& document.location.pathname != cur_link) {
			$.cookie("sitenewsbanner", null, { path: '/' }); // in case it has a different value
			$('#sitenewscontainer').fadeIn();
			setTimeout("$('#trending_bills > a').each(function() { $(this).truncate_text() });", 10); // a little after the fade has started so the divs are shown
		}
	});
	</script>
	

	

	<nav id="masthead" class="navbar navbar-default">
	  <div class="container">

	  	

	    <div class="navbar-header">
	      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#masthead-navbar-collapse">
	        <span class="sr-only">Toggle navigation</span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	      </button>
	      <a id="logo" href="/" class="navbar-brand ">govtrack.us</a>
	    </div>
	    <div class="collapse navbar-collapse" id="masthead-navbar-collapse">
	      <div id="nav">
	      <ul class="nav navbar-nav">
	        
			<li><a href="/">Home</a></li>
			<li class="dropnav">
				<a href="/start">Browse</a>
				<ul>
					<li><a href="/congress/members">Members <em>of</em> Congress</a></li>
					<li><a href="/congress/bills">Bills <em>&amp;</em> Resolutions</a></li>
					<li><a href="/congress/votes">Voting Records</a></li>
					<li><a href="/congress/committees">Committees</a></li>
					<li><a href="/congress/live">Live Video (Beta)</a></li>
					<li><a href="/videos" style="line-height: 120%">GovTrack Videos (Original Reporting)</a></li>
				</ul>
			</li>
			<li class="dropnav">
				<a href="/start">Track</a>
				<ul>
					
						<li id="nav_track_start"><a href="/start">Start Tracking</a></li>
						<li id="nav_track_lists" style="display: none"><a href="/accounts/lists">What I&rsquo;m Tracking</a></li>
						<script>if (the_user) {
							$('#nav_track_start').find('a').text("Add a Tracker");
							$('#nav_track_lists').show();
						}</script>
					
					<li><a href="/accounts/docket">Your Docket</a></li>
				</ul>
			</li>
			<li><a href="/about">About</a></li>
			<li><a href="/developers">Open data</a></li>
	        
	      </ul>
	      </div>
	      <ul class="nav navbar-nav navbar-right">
			
			
				<li id="nav_askcd" style="display: none"><a href="#" onclick="return show_askcd();">Set District</a></li>
				<li id="nav_login"><a href="/accounts/login?next=/congress/members/CA/25">Log In</a></li>
				
					<li id="nav_logout" style="display: none"><a href="/accounts/logout?next=/congress/members/CA/25">Log Out</a></li>
				
			
			
			
				<script>if (the_user) {
					$('#nav_login').find('a').text(the_user.email).attr('href', '/accounts/profile');
					$('#nav_logout').show();
				} else {
					$('#nav_askcd').show()
				}</script>
			
			<li>
				<form name="header_search" action="/search" method="GET" class="search-form" role="search">
					<fieldset>
						<div class="text"><input type="text" placeholder="Search" name="q"/></div>
						<input class="btn-search" type="submit" value="Search" />
					</fieldset>
				</form>
	        </li>
	      </ul>
	    </div><!-- /.navbar-collapse -->
	  </div><!-- /.container-fluid -->
	</nav>

	
	<div id="breadcrumbs">
		<div class="container">
			
			
		</div>
	</div>
	

	
<div class="container-fluid">

	
		<h1>California&rsquo;s 25<sup>th</sup> Congressional District</h1>
	


	
<div id="search-members" class="row" style="margin-top: 1em">
	<div class="col-sm-4 col-lg-3 advanced-search">
		
			<h3>Senators</h3>
			
				<div>
					
						
							<p style="margin-bottom: .5em"><a href="/congress/members/dianne_feinstein/300043">Sen. Dianne Feinstein [D]</a></p>
						
					
						
							<p style="margin-bottom: .5em"><a href="/congress/members/barbara_boxer/300011">Sen. Barbara Boxer [D]</a></p>
						
					
				</div>
			
			
			
			<h3 style="margin-top: 1em">Representative</h3>
			
			<div>
				
					<div style="margin-bottom: .5em">
						
						
							<a href="/congress/members/steve_knight/412614">Rep. Steve Knight [R]</a>
						
					</div>
				
			</div>
			
			<p>(<a href="/congress/members/CA">See all of California&rsquo;s districts</a>)</p>
			
			<!--<p<small>County and neighborhood names courtesy of Census and <a href="http://www.zillow.com/howto/api/neighborhood-boundaries.htm">Zillow</a> geographic data.</small></p>-->
		
	
	</div><!-- /advanced-search -->


	<div style="display: none">
		<div id="fullscreen" style="padding: 10px">
			<img src="/static/images/stock_fullscreen.png" title="Toggle Full Screen" onclick="doFullScreen();" style="cursor: pointer"/>
		</div>
	</div>
	
	<div id="map_container" class="col-sm-8 col-lg-9">
		<div id="map_canvas" class="">
		</div>
		<div style="display: none">
			<ul id="map_controls">
				<li id="map_district_hover_container" style="display: none">
					<div id="map_district_hover_label">
					</div>
				</li>
				<!--<li id="ctrl_layer_2010" class="active">2010 Districts</li>
				<li id="ctrl_layer_2012">2012 Districts</li>-->
			</ul>
		</div>
	</div>
	
	<div style="clear: both; ">
		<div id="embed_teaser" style="text-align: center">
			<a href="#" onclick="$('#embed_teaser').hide(); $('#embed_details').fadeIn(); return false;">Embed this map or get KML...</a>
		</div>
		<div id="embed_details" style="display: none">
			<div style="text-align: center">Embed this map on your own website using this HTML code:</div>
		
			<pre id="embedpre" wrap="hard" style="overflow: auto; margin: 15px; font-size: 90%; color: black;">&lt;iframe width="425" height="300" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"
src="https://www.govtrack.us/congress/members/embed/mapframe?state=ca&amp;district=25&amp;bounds=<span id="embedbounds"></span>"&gt;&lt;/iframe&gt;</pre>
	  
			<div style="text-align: center; margin: 1em">Advanced web designers can <a href="/congress/members/embed/mapframe?demo=1">view the source</a> and adapt it to your website&rsquo;s needs.
			
			Or download KML:
				<a href="https://gis.govtrack.us/boundaries/cd-2014/ca-25/simple_shape?format=kml">low res</a>
				|
				<a href="https://gis.govtrack.us/boundaries/cd-2014/ca-25/shape?format=kml">hi res</a>.
			
			</div>
		</div>
	</div>
</div><!-- /search-members -->

<div class="ads footer leaderboard">
	<script type="text/javascript"><!--
	google_ad_client = "ca-pub-3418906291605762";
	/* GT Footer 728x90, created 8/27/10 */
	google_ad_slot = "5620102176";
	google_ad_width = 728;
	google_ad_height = 90;
	//-->
	</script>
	
	<script>
	if ($(window).width() < 800 || is_ad_free) {
		// nothing, not wide enough or user has paid to not have ads
	} else {
		document.write("\u003Cins class\u003D\u0022adsbygoogle\u0022 style\u003D\u0022display:inline\u002Dblock\u003Bwidth:728px\u003Bheight:90px\u0022 data\u002Dad\u002Dclient\u003D\u0022ca\u002Dpub\u002D3418906291605762\u0022 data\u002Dad\u002Dslot\u003D\u00225620102176\u0022\u003E\u003C/ins\u003E");
		(adsbygoogle = window.adsbygoogle || []).push({});
	    document.write("\u003Cdiv class\u003D\u0022explainer\u0022\u003E(\u003Ca href\u003D\u0022/advertising\u0022\u003EAbout Ads\u003C/a\u003E | \u003Ca href\u003D\u0022/accounts/membership\u0022\u003EHide These Ads\u003C/a\u003E)\u003C/div\u003E");
	}
	</script>
</div>




		<footer id="footer">
			<div class="container">
			<div class="row">

				<nav class="col-sm-3 col-md-2">
					<h4><span>site</span> Menu</h4>
					<ul>
						<li><a href="/">Home</a></li>
						<li><a href="/start">Start Tracking</a></li>
						<li><a href="/about">About GovTrack</a></li>
						<li><a href="/developers">Open Data</a></li>
						<li><a href="/legal">Privacy &amp; Legal</a></li>
						
						<li><a href="/accounts/login">Log in</a></li>
						
					</ul>
				</nav>

				<section class="col-sm-2 social">
					<h4><span>follow</span> GovTrack</h4>
					<ul>
						<li><a href="https://www.facebook.com/pages/GovTrackus/312186525430"><i class="fa fa-facebook fa-fw"></i><span>Facebook</span></a></li>
						<li><a href="http://twitter.com/govtrack"><i class="fa fa-twitter fa-fw"></i><span>Twitter</span></a></li>
						<li><a href="https://medium.com/govtrack-insider"><i class="fa fa-medium fa-fw"></i><span>Medium</span></a></li>
						<li><a href="/blog"><i class="fa fa-quote-right fa-fw"></i><span>Blog</span></a></li>
						<li><a href="https://github.com/govtrack/govtrack.us-web/commits/master"><i class="fa fa-github fa-fw"></i><span>Code</span></a></li>
					</ul>
				</section>

				<section class="col-md-offset-1 col-sm-6">
					<p>Launched in 2004, GovTrack helps everyone learn about and track the activities of the United States Congress. This is a project of <a href="http://www.civicimpulse.com">Civic Impulse, LLC</a>. GovTrack.us is not a government website.</p>

					<p><a href="/about">About the Site</a> | <a href="/contact">Contact Us</a></p>

					<p>You are encouraged to reuse any material on this site. GovTrack supports other Congress-tracking websites through our <a href="/developers">open data</a>.</p>
					
					
				</section>

			</div>
			</p>
		</footer>

	</div><!-- /wrapper -->

    <div id="error_modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="errorModalTitle" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="errorModalTitle"> </h4>
          </div>
          <div class="modal-body">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">OK</button>
          </div>
        </div>
      </div>
    </div>
    <script>
	function show_modal(title, message) {
		$('#error_modal h4').text(title);
		if (message.charAt(0) != '<') {
			$('#error_modal .modal-dialog').toggleClass('modal-sm', true);
			$('#error_modal .modal-body').html($("<p/>").text(message).html());
		} else {
			$('#error_modal .modal-dialog').toggleClass('modal-sm', false);
			$('#error_modal .modal-body').html(message);
		}
		$('#error_modal').modal({});
	}
	</script>

	<script src="/static/js/govtrack.js?20151003"></script>
	<!-- modal to ask what district you live in -->
<div id="askcd_modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="askcdModalTitle" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="askcdModalTitle">Find Your Congressional District</h4>
      </div>
      <div class="modal-body">
        <p>Let&rsquo;s find your congressional district so we can customize your GovTrack experience.</p>

	<form role="form" onsubmit="return askcd_submit();" style="margin: 1em 0 0 0;">
	  <div class="form-group">
	    <label for="askcdState">What state do you live in?</label>
	    <select class="form-control" id="askcdState" size="1">
	    	<option value="">(Select State)</option>
	    	
	    		<option value="AL" data-districts="7">Alabama</option>
	    	
	    		<option value="AK" data-districts="1">Alaska</option>
	    	
	    		<option value="AS" data-districts="T">American Samoa</option>
	    	
	    		<option value="AZ" data-districts="9">Arizona</option>
	    	
	    		<option value="AR" data-districts="4">Arkansas</option>
	    	
	    		<option value="CA" data-districts="53">California</option>
	    	
	    		<option value="CO" data-districts="7">Colorado</option>
	    	
	    		<option value="CT" data-districts="5">Connecticut</option>
	    	
	    		<option value="DE" data-districts="1">Delaware</option>
	    	
	    		<option value="DC" data-districts="T">District of Columbia</option>
	    	
	    		<option value="FL" data-districts="27">Florida</option>
	    	
	    		<option value="GA" data-districts="14">Georgia</option>
	    	
	    		<option value="GU" data-districts="T">Guam</option>
	    	
	    		<option value="HI" data-districts="2">Hawaii</option>
	    	
	    		<option value="ID" data-districts="2">Idaho</option>
	    	
	    		<option value="IL" data-districts="18">Illinois</option>
	    	
	    		<option value="IN" data-districts="9">Indiana</option>
	    	
	    		<option value="IA" data-districts="4">Iowa</option>
	    	
	    		<option value="KS" data-districts="4">Kansas</option>
	    	
	    		<option value="KY" data-districts="6">Kentucky</option>
	    	
	    		<option value="LA" data-districts="6">Louisiana</option>
	    	
	    		<option value="ME" data-districts="2">Maine</option>
	    	
	    		<option value="MD" data-districts="8">Maryland</option>
	    	
	    		<option value="MA" data-districts="9">Massachusetts</option>
	    	
	    		<option value="MI" data-districts="14">Michigan</option>
	    	
	    		<option value="MN" data-districts="8">Minnesota</option>
	    	
	    		<option value="MS" data-districts="4">Mississippi</option>
	    	
	    		<option value="MO" data-districts="8">Missouri</option>
	    	
	    		<option value="MT" data-districts="1">Montana</option>
	    	
	    		<option value="NE" data-districts="3">Nebraska</option>
	    	
	    		<option value="NV" data-districts="4">Nevada</option>
	    	
	    		<option value="NH" data-districts="2">New Hampshire</option>
	    	
	    		<option value="NJ" data-districts="12">New Jersey</option>
	    	
	    		<option value="NM" data-districts="3">New Mexico</option>
	    	
	    		<option value="NY" data-districts="27">New York</option>
	    	
	    		<option value="NC" data-districts="13">North Carolina</option>
	    	
	    		<option value="ND" data-districts="1">North Dakota</option>
	    	
	    		<option value="MP" data-districts="T">Northern Mariana Islands</option>
	    	
	    		<option value="OH" data-districts="16">Ohio</option>
	    	
	    		<option value="OK" data-districts="5">Oklahoma</option>
	    	
	    		<option value="OR" data-districts="5">Oregon</option>
	    	
	    		<option value="PA" data-districts="18">Pennsylvania</option>
	    	
	    		<option value="PR" data-districts="T">Puerto Rico</option>
	    	
	    		<option value="RI" data-districts="2">Rhode Island</option>
	    	
	    		<option value="SC" data-districts="7">South Carolina</option>
	    	
	    		<option value="SD" data-districts="1">South Dakota</option>
	    	
	    		<option value="TN" data-districts="9">Tennessee</option>
	    	
	    		<option value="TX" data-districts="36">Texas</option>
	    	
	    		<option value="UT" data-districts="4">Utah</option>
	    	
	    		<option value="VT" data-districts="1">Vermont</option>
	    	
	    		<option value="VI" data-districts="T">Virgin Islands</option>
	    	
	    		<option value="VA" data-districts="11">Virginia</option>
	    	
	    		<option value="WA" data-districts="10">Washington</option>
	    	
	    		<option value="WV" data-districts="3">West Virginia</option>
	    	
	    		<option value="WI" data-districts="8">Wisconsin</option>
	    	
	    		<option value="WY" data-districts="1">Wyoming</option>
	    	
	    </select>
	  </div>
	  <div id="askcdDistrictGroup" class="form-group" style="margin-bottom: 0">
	    <label for="askcdAddress">What is your home&rsquo;s street address and city?</label>
	    <input id="askcdAddress" type="text" class="form-control" placeholder="123 Main St, Cincinnati, OH"/>
	    <span class="help-block" style="font-size: 85%">We do not store your address and only use it right now to find your district.</span>
	  </div>
	</form>            
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default no-thanks" data-dismiss="modal">No Thanks</button>
      	<button type="button" class="btn btn-default clear-setting" onclick="return askcd_submit(true);">Clear Setting</button>
      	<button type="button" class="btn btn-primary" onclick="return askcd_submit();">Next &gt;</button>
      </div>
    </div>
  </div>
</div>

<!-- modal to show geocoder result -->
<div id="askcd_modal_two" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="askcdModalTitle2" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="askcdModalTitle2">Find Your Congressional District</h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-xs-6">
            <p>Please check that map to make sure we found the location of your home correctly.</p>
            <p class="text-warning">Drag the marker to your home if it is not in the right location. Zoom out if necessary.</p>
            <p>Your address is in <span id="askcd_result"> </span>.</p>
            <p>If everything looks right, click OK below the map to continue.</p>
          </div>
          <div class="col-xs-6">
            <div id="askcd_map" style="width: 100%; border: 1px solid black;"> </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
      	<button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
      </div>
    </div>
  </div>
</div>

<script>
// show dialog to ask user where they live
function show_askcd() {
	$('#askcdState').val('');
	$('#askcdDistrictGroup').hide();
	$('#askcd_modal .no-thanks').toggle(!cong_dist);
	$('#askcd_modal .clear-setting').toggle(!!cong_dist);
	$('#askcd_modal .btn-primary').attr('disabled', 'disabled');
	$('#askcd_modal').modal();
	$('#askcd_modal').on('hidden.bs.modal', function() {
		if (!cong_dist) // if the user didn't make a selection, then perform a cancel so we don't ask again 
			askcd_submit(true)
	});
  return false;
}

// toggle asking for an address depending on whether the state is at-large
$('#askcdState').change(function() {
	var val = $('#askcdState').val();
	if (val == "") {
		$('#askcdDistrictGroup').slideUp();
		$('#askcd_modal .btn-primary').prop('disabled', true).text("Next >");
	} else {
		var ndistricts = $('#askcdState option[value=' + val + ']').attr('data-districts');
		if (ndistricts == "T" || ndistricts == "1") {
			$('#askcdDistrictGroup').slideUp();
			$('#askcd_modal .btn-primary').prop('disabled', false).text("OK");
		} else {
			$('#askcdDistrictGroup').slideDown();
			$('#askcd_modal .btn-primary').prop('disabled', false).text("Next >");
		}
	}
});

var on_google_maps_loaded = [];
function google_maps_api_loaded() {
	on_google_maps_loaded.forEach(function(item) { item(); });
    on_google_maps_loaded = {
        push: function(f) { f(); }
    };
}

// user says OK here's my state or state & address
function askcd_submit(is_cancel) {
  if (!is_cancel) {
  // record GA event
  try { 
  	ga('send', 'event', 'miscellaneous', 'set-district');
  } catch(err){}
  }

  // get user's state
	var val = $('#askcdState').val();
	if (is_cancel) val = "XX";
	if (val == "") return false;

  // did we ask for an address?
	var ndistricts = $('#askcdState option[value=' + val + ']').attr('data-districts');
	if (ndistricts == "T" || ndistricts == "1" || val == "XX") {
		// submit at-large district, or use cancelled this dialog (set district to "XX0")
		$.ajax('/accounts/_set_district',
			{
				type: "POST",
				data: {
					state: val,
					district: "0"
				},
        success: function(res) {
          // Update page, if the page supports it.
          if (val != "XX")
            onUserDistrictChanged(val, 0, res.mocs);
        }
			}
		);

    $('#askcd_modal').modal('hide');
    if (val == "XX") onUserDistrictChanged(); // all nulls to reset
    return false;
  }

  // geocode the address
  var addr = $('#askcdAddress').val();
  if (!addr) return false;
  $('#askcd_modal .btn-primary').prop('disabled', true);
	var geocoder = new google.maps.Geocoder();
	geocoder.geocode(
		{
			address: addr,
			region: 'us',
			componentRestrictions: { administrativeArea: val }
		},
		function(results, status) {
      // Failed to geocode
			if (status != google.maps.GeocoderStatus.OK) {
        alert("Sorry, Google couldn't find that address: " + status);
        $('#askcd_modal .btn-primary').prop('disabled', false);
				return;
			}

      // Look up the district at that coordinate
			var geocoder_result = results[0].geometry.location;
			$.ajax({
				url: "/congress/members/ajax/district_lookup",
				data: {
					lat: geocoder_result.lat(),
					lng: geocoder_result.lng()
				},
				dataType: "json",
				success: function(data) {
          // Did not resolve.
					if (!data.state) {
						alert("The address does not appear to be within a United States Congressional District.");
	    			$('#askcd_modal .btn-primary').prop('disabled', false);
						return;
					}

          function on_has_district(data) {
            // Update UI with the result.
            $('#askcd_result').text(data.state + "-" + data.district);
            //$('#askcd_modal_two .btn-info').attr('href', "/congress/members/" + data.state + "/" + data.district + "?marker=" + geocoder_result.lng() + ':' + geocoder_result.lat());

            // Save into user's account.
            $.ajax('/accounts/_set_district',
              {
                type: "POST",
                data: {
                  state: data.state,
                  district: data.district
                },
                success: function(data2) {
                  // Update page, if the page supports it.
                  onUserDistrictChanged(data.state, parseInt(data.district), data2.mocs);
                }
              }
            );
          }

          // Save.
          on_has_district(data);
      
          // Show the result with a map.

   				$('#askcd_modal').modal('hide');
   				$('#askcd_modal_two').modal();
          $('#askcd_modal_two').on('shown.bs.modal', function (e) {
            // Set the map height since that's hard to do in CSS.
            $('#askcd_map').css({ height: .7 * $('#askcd_map').width() + 'px'});

            // Create the map.
            var map = map_controller();
            map.init(
              document.getElementById("askcd_map"),
              data.state,
              null, // show all districts in the overlay, not just the one we think the user is in
              {
                zoom: 13,
                center: geocoder_result,
              });

            // Add a marker at the location of the user's address. When the user
            // moves the marker, see what district the marker is in.
            var marker = map.addMarker(geocoder_result);
            marker.setIcon("/static/images/map-home-marker-icon.png");
            marker.setAnimation(google.maps.Animation.BOUNCE);
            setTimeout(function() { marker.setAnimation(null); }, 2000)

            marker.setDraggable(true);
            google.maps.event.addListener(marker, "dragend", function(e) {
              $('#askcd_modal_two button').addClass("disabled");
              $('#askcd_result').text("...");

              // Look up the district at that coordinate
              var geocoder_result = results[0].geometry.location;
              $.ajax({
                url: "/congress/members/ajax/district_lookup",
                data: {
                  lat: marker.getPosition().lat(),
                  lng: marker.getPosition().lng()
                },
                dataType: "json",
                success: function(data) { 
                  $('#askcd_modal_two button').removeClass("disabled");
                  if (!data.state) {
                    alert("That location is not within a United States Congressional District. Please move the marker to your home address.");
                    return;
                  }
                  on_has_district(data);
                }});
            });
          })
				}
			});
		});

	return false;
}
var win_loc_hash = window.location.hash; // may change between now and ()'s execution
$(function() {
	setTimeout(function() {
		if (win_loc_hash == "#track") return;

		// Read the session cookie (i.e. disappears when browser is closed).
		var sflags = $.cookie("sflags");
		sflags = !sflags ? {} : parse_qs(sflags);

		if (win_loc_hash == "#opencongress") {
			// Special dialog for these links. Clear the fragment and surpress
			// other popups this browser session.
			window.location.hash = "";
			sflags.pause = true;
			$('#opencongress_modal').modal();
			ga('send', 'event', 'referral', 'opencongress');
		}

		// Save the scookie as a session cookie.
		$.cookie("sflags", form_qs(sflags));

		// Don't display any popups if the pause session state flag is set.
		if (sflags.pause)
			return;

		// Read the persistent cookie for flags.
		var flags = $.cookie("flags");
		flags = !flags ? {} : parse_qs(flags);

		if (show_if_then_fund(flags)) { }
		else if (the_segment == "Other" && cong_dist == null && 0)
			show_askcd();
		else if (Math.random() < .3)
			show_followus(flags);

		$.cookie("flags", form_qs(flags), { expires: 21, path: '/' });
	}, 750)
});

function show_followus(flags) {
	if (flags.foll_tw) return; // only show once
	flags.foll_tw = true;

	$('#followus_modal').modal();
	!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
}

function show_if_then_fund(flags) {
  return;
  
  if (the_segment != "Other") return;
  return;
  if (flags.itf == "") return;
  if (Math.random() < .75) return;
  flags.itf = "";
  
  $('#itfpromo_modal').modal();
}
</script>

<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDT0FVIPcP0mEE-v2V0A9mZOU69WkqGlyU&callback=google_maps_api_loaded"> </script>
<!-- / ask for district -->

<div id="followus_modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="followusModalTitle" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="followusModalTitle">Follow us?</h4>
      </div>
      <div class="modal-body">
        <p style="margin-bottom: 20px">We tweet when bills are enacted and when we publish original research.</p>
        <a class="twitter-timeline" data-dnt="true" href="https://twitter.com/govtrack" data-widget-id="508366437044330496" height="250" data-tweet-limit="2" data-chrome="nofooter noborders">Tweets by @govtrack</a>
      </div>
      <!--<div class="modal-footer">
      	<button type="button" class="btn btn-default" data-dismiss="modal">Not Now</button>
      </div>-->
    </div>
  </div>
</div>

<style>
.itf-brand {
	display: inline-block;
	background: url("https://if.then.fund/static/branding/content-title.9f202d38df28.png") no-repeat;
	background-size: 100%;
	width: 4.379994em;
	height: .9em;
	text-indent: 99999px;
	overflow: hidden;
	margin-left: 1px;
}
</style>
<div id="itfpromo_modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="itfpromoModalTitle" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      
      <div class="modal-body">
        <div class="row">
          <div class="col-xs-9">
            <h5 style="font-size: 17px; font-weight: bold; text-transform: none;">
              
            </h5>
            <p>You can shape the future of Congress by making a campaign contribution on <span class="itf-brand">if.then.fund</span> to  or their opponents based on whether they agree with you on this .</p>
            <div>
              
                
              
            </div>
          </div>
          <div class="col-xs-3">
            <a href="?utm_campaign=govtrack/popup">
              <img src="" class="img-responsive" style="margin-bottom: 1em" title="">
            </a>
          </div>
        </div>
      </div>
      <div class="modal-footer">
		<small style="line-height: 132%; text-align: left;">
        
        <p><a href="?utm_campaign=govtrack/popup"><span class="itf-brand">if.then.fund</span></a> is a new website that can help you shape the future of Congress from the creators of GovTrack and Democracy Engine.</p>
		</small>
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


<style>
#opencongress_modal strong { }
</style>
<div id="opencongress_modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="opencongressModalTitle" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="opencongressModalTitle" style="font-size: 22px; font-weight: bold; font-family: sans-serif">Welcome to GovTrack.us</h4>
      </div>
      <div class="modal-body">
      	<p>Thank you for giving GovTrack a try. Like OpenCongress, GovTrack is for <strong>researching and tracking legislation before the U.S. Congress</strong>.</p>
      	<p style="text-align: center">★</p>
      	<p>Things here should seem very familiar to you. OpenCongress and GovTrack have always had a data sharing partnership, so you&rsquo;ll find the <strong>exact same information here as what you had on OpenCongress</strong>, just arranged a little differently.</p>
      	<p>And GovTrack has actually been here for more than a decade. This is the site that began <strong>the movement to improve access to Congress using technology</strong>.</p>
      	<p>Unlike OpenCongress, we&rsquo;re funded through advertising and crowdfunding.</p>
      	<p style="text-align: center">★</p>
      	<p>For more, please see <a href="/about">About Us</a>, or follow us <a href="http://twitter.com/govtrack">@GovTrack</a> on Twitter, <a href="http://www.facebook.com/pages/Civic-Impulse/312186525430">on Facebook</a>, or on <a href="https://medium.com/govtrack-insider">Medium</a>.</p>
      </div>
    </div>
  </div>
</div>



	

	<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

	
	<script type="text/javascript" src="https://gis.govtrack.us/static/js/google_maps_helpers.js"></script>
	<script type="text/javascript" src="https://gis.govtrack.us/static/js/maps_helpers.js"></script>
	<script type="text/javascript">

		/**************************************/
		
		var map;
		
		on_google_maps_loaded.push(function() {
			map = map_controller();
			map.init(
				document.getElementById("map_canvas"),
				"ca",
				"25",
				{
					zoom: 8.0,
					center: new google.maps.LatLng(34.5158525, -118.2748545),
				}
				);

			
			
			map.onBoundsChanged(function(b) {
				$("#embedbounds").text(Math.round(b.getSouthWest().lng()*1000)/1000 + "," + Math.round(b.getNorthEast().lat()*1000)/1000 + "," + Math.round(b.getNorthEast().lng()*1000)/1000 + "," + Math.round(b.getSouthWest().lat()*1000)/1000);
			});
			
			map.addControl(google.maps.ControlPosition.TOP_RIGHT, $('#map_controls')[0])
			map.onMouseMoveHit(
				function(key, data) {
					var div = $('#map_district_hover_container');
					var lbl = $('#map_district_hover_label');
					if (data) {
						lbl.html(data.name);
						div.show();
					} else {
						div.hide();
					}
				},
				function() {
					var div = $('#map_district_hover_container');
					var lbl = $('#map_district_hover_label');
					if (div.is(":visible")) lbl.html("Loading...");
				});


		});

		// FULL SCREEN
		
		var is_full_screen = false;
		function doFullScreen() {
			if (is_full_screen) {
				$('#map_canvas').css('position', 'relative');
				$('#map_canvas').css('width', '');
				$('#map_canvas').css('top', '');
				$('#map_canvas').css('left', '');
				$("#map_container").append($('#map_canvas'));
			} else {
				$('#map_canvas').css('position', 'absolute');
				$('#map_canvas').css('z-index', '1000');
				$("body").append($('#map_canvas'));
			}
			is_full_screen = !is_full_screen;
			canvas_resize();
		}
		function canvas_resize() {
			if (!is_full_screen || !map) return;
			$('#map_canvas').css({
				left: $(window).scrollLeft(),
				top: $(window).scrollTop(),
				width: $(window).width(),
				height: $(window).height() });
			google.maps.event.trigger(map, "resize");
		}
		$(window).scroll(canvas_resize);
		$(window).resize(canvas_resize);

		// GEOCODE ADDRESSES
		
		var geocoder;
		function doGeoCode(addr) {
			if (!geocoder)
				geocoder = new google.maps.Geocoder();
			geocoder.geocode(
				{ 'address': addr },
				function(results, status) {
					if (status == google.maps.GeocoderStatus.OK) {
						var geocoder_result = results[0].geometry.location;

						$.ajax({
							url: "/congress/members/ajax/district_lookup",
							data: {
								lat: results[0].geometry.location.lat(),
								lng: results[0].geometry.location.lng()
							},
							dataType: "json",
							success: function(data) {
								if (!data.state) {
									alert("The address does not appear to be within a United States Congressional District.");
								} else {
									if (data.district)
										window.location = "/congress/members/" + data.state + "/" + data.district + "?marker=" + geocoder_result.lng() + ':' + geocoder_result.lat();
									else
										window.location = "/congress/members/" + data.state + "?marker=" + geocoder_result.lng() + ':' + geocoder_result.lat();
								}
							}
						});
					} else {
					   alert("Sorry, Google couldn't find that address: " + status);
				    }
				});
		}
		
		function doform() {
			if (!$('#name').hasClass('default') && $('#name').val()) {
				window.location = "/congress/members/current?name=" + encodeURI($('#name').val());
			} else if (!$('#address').hasClass('default') && $('#address').val()) {
				doGeoCode($('#address').val());
			} else if (!$('#zip').hasClass('default') && $('#zip').val()) {
				if ($('#zip').val().substring(0, 1) == "-") {
					window.location = "http://xkcd.com/1245/";
				} else {
					doGeoCode($('#zip').val());
				}
			}
			return false;
		}
	</script>

</body>
</html>

