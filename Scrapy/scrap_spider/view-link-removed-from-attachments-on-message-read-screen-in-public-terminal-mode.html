<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1.0">
<meta id="appname" name="apple-mobile-web-app-title" content="FastMail Blog">
<meta name="theme-color" content="#44557e">
<meta name="description" content="When you enable the "Public Terminal" option on the login screen, Fastmail sets the "no-cache" and "no-store" cache control headers on every page. This means that browsers should not store a copy of the pages you visit (e.g. emails you read) to their local disk. Even after you logout of your session and leave the computer, someone comes along and tries to view a page in the browser history, it should re-check with the server first, which of course will return "this user is now logged out, show the login page instead".">
<title>"View" link removed from attachments on message read screen in "Public Terminal" mode | FastMail Blog</title>

<meta property="og:image" content="https://www.fastmail.com/static/images/app-icon-256.png">
<meta property="og:type" content="website">
<meta property="og:site_name" content="FastMail Blog">
<meta property="og:title" content=""View" link removed from attachments on message read screen in "Public Terminal" mode">
<meta property="og:description" content="When you enable the "Public Terminal" option on the login screen, Fastmail sets the "no-cache" and "no-store" cache control headers on every page. This means that browsers should not store a copy of the pages you visit (e.g. emails you read) to their local disk. Even after you logout of your session and leave the computer, someone comes along and tries to view a page in the browser history, it should re-check with the server first, which of course will return "this user is now logged out, show the login page instead".">
<meta property="og:url" content="https://blog.fastmail.com/2011/10/28/view-link-removed-from-attachments-on-message-read-screen-in-public-terminal-mode/">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.fastmail.com/static/images/app-icon-256.png">
<meta name="twitter:site" content="@FastMailFM">
<meta name="twitter:creator" content="@FastMailFM">
<meta name="twitter:url" content="https://blog.fastmail.com/2011/10/28/view-link-removed-from-attachments-on-message-read-screen-in-public-terminal-mode/">
<meta name="twitter:title" content=""View" link removed from attachments on message read screen in "Public Terminal" mode">
<meta name="twitter:description" content="When you enable the "Public Terminal" option on the login screen, Fastmail sets the "no-cache" and "no-store" cache control headers on every page. This means that browsers should not store a copy of the pages you visit (e.g. emails you read) to their local disk. Even after you logout of your session and leave the computer, someone comes along and tries to view a page in the browser history, it should re-check with the server first, which of course will return "this user is now logged out, show the login page instead".">

<link rel="canonical" href="https://blog.fastmail.com/2011/10/28/view-link-removed-from-attachments-on-message-read-screen-in-public-terminal-mode/">
<link rel="alternate" type="application/rss+xml" title="FastMail Blog" href="https://blog.fastmail.com/feed/">

<link rel="apple-touch-icon" sizes="152x152" href="https://www.fastmail.com/static/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://www.fastmail.com/static/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://www.fastmail.com/static/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://www.fastmail.com/static/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://www.fastmail.com/static/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://www.fastmail.com/static/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="https://www.fastmail.com/static/favicons/apple-touch-icon-57x57.png">
<link rel="shortcut icon" sizes="196x196" href="https://www.fastmail.com/static/favicons/touch-icon-196x196.png">
<link rel="shortcut icon" sizes="64x64" href="https://www.fastmail.com/static/favicons/icon-64x64.png">
<link rel="shortcut icon" sizes="32x32" href="https://www.fastmail.com/static/favicons/icon-32x32.png">

<link rel="stylesheet" type="text/css" href="https://www.fastmail.com/static/styles/main.css">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400italic,700">
<script type="text/javascript" src="https://www.fastmail.com/static/scripts/fontloaded.js"></script>
</head>
<body>

<div id="header" class="fixed">
<div id="home"><a href="https://www.fastmail.com/"><img src="https://www.fastmail.com/static/images/logo.png" width="176" height="44" alt="FastMail"></a></div>
<ul id="nav">
<li><b>Blog</b></li>
<li><a href="https://www.fastmail.com/help/">Support</a></li>
<li><a href="https://www.fastmail.com/signup/">Sign up</a></li>
<li><a href="https://www.fastmail.com/">Our service</a></li>
</ul>
</div>

<div id="page">
<div id="bg"></div>

<div class="article">

<h1><a href='https://blog.fastmail.com/2011/10/28/view-link-removed-from-attachments-on-message-read-screen-in-public-terminal-mode/'>"View" link removed from attachments on message read screen in "Public Terminal" mode</a></h1>
<p class="blog-author">Rob Mueller &ndash; 27 October 2011</p>
<p>When you enable the "Public Terminal" option on the login screen,
Fastmail sets the <a href="http://palisade.plynt.com/issues/2008Jul/cache-control-attributes/">"no-cache" and "no-store" cache control
headers</a>
on every page. This means that browsers should not store a copy of the
pages you visit (e.g. emails you read) to their local disk. Even after
you logout of your session and leave the computer, someone comes along
and tries to view a page in the browser history, it should re-check with
the server first, which of course will return "this user is now logged
out, show the login page instead".</p>

<p>However this is a problem with this whole setup related to attachments.
When an email has an attachment, the content of the attachment might be
in a form the browser doesn't understand (e.g. Microsoft Word document).
In that case, the browser has to save a copy of the attachment to the
local disk, and then launch Microsoft Word to open the file.</p>

<p>Now in the case of the "View" link, the saving to disk would be done
automatically into a temporary file storage area. However in IE, if you
try and download an SSL document with the no-cache or no-store
attributes set, IE will explicitly not save the file to disk, and then
when it tries to launch Microsoft Word to read the file, you'll get a
"file does not exist" error or the like.</p>

<p><a href="http://support.microsoft.com/kb/812935">http://support.microsoft.com/kb/812935</a> <br />
<a href="http://support.microsoft.com/kb/815313">http://support.microsoft.com/kb/815313</a></p>

<p>For other browsers, it appears they work around this problem by actually
saving a copy to disk in the temporary storage area, but they delete the
file when you close the browser (at least that's what Firefox did when I
tested). That still potentially does leave the file on disk for some
time.</p>

<p>To ensure the best privacy possible, while still allowing people to view
attached documents in "Public Terminal" mode, we've decided to do the
following:</p>

<ul>
<li>When you login with the "Public terminal" mode, we've removed the
"View" link next to attachments. This solves two problems; the
unexpected "file not found" in IE, and the privacy concern of
storing attachments to disk in the temporary file area of other
browsers</li>
<li>We've left the "View" link next to image attachments, because the
web browser can display images itself, without launching a separate
program, so it can obey the "no-cache"/"no-store" directives</li>
<li>With the "Download" link (which automatically brings up a "Save as…"
dialog box), we've removed the "no-cache" and "no-store" settings,
which means that IE will let you download it and save it somewhere
so you can open it to view the document.</li>
</ul>

<p>We like this solution because it makes things clearer to the user. In
"Public Terminal" mode, if you want to view an attachment, you have to
download it first, explicitly save it somewhere and then view it. The
alternative approach of letting the browser do it either fails (IE), or
causes an auto-save of the file to a temporary area which leaves it
temporarily cached on the machine when the user doesn't expect it.</p>


<div class="blog-footer">

<p class="blog-footerPrev">«︎ <a href="https://blog.fastmail.com/2011/10/27/tcp-keepalive-ios-5-and-nat-routers/">TCP keepalive, iOS 5 and NAT routers</a></p>


<p class="blog-footerNext"><a href="https://blog.fastmail.com/2011/11/10/ios-5-and-mail-application-access-patterns/">iOS 5 and mail application access patterns</a> »︎</p>


<p class="blog-footerThanks">Thanks for reading the FastMail Blog: news, views and the occasional rant from the FastMail team. Want to keep up to date? Subscribe to our <a href="/feed/">RSS feed</a>, or sign up below and weʼll email you every time we post something new.</p>

<form method="post" action="https://www.listbox.com/subscribe/" style="text-align:center">
    <input type="hidden" name="action" value="subscribe">
    <input type="hidden" name="list_id" value="273399">
    <input type="hidden" name="redirect" value="listbox">
    <input type="text" class="text" name="username" placeholder="Email address" style="margin-bottom:7px;width:250px;">
    <button type="submit" class="button suggestedAction" style="margin-left:3px;padding: 6px 24px 7px;">Subscribe</button>
</form>

</div>

<div id="breadcrumbs">
<div style="float:right">
    <a href="/">Latest News</a>
    &nbsp;&nbsp;
    <a href="/archive/">Archive</a>
</div>
</div>

</div> <!-- End div.article -->

</div> <!-- End div#page -->

<div id="footer"><div class="content">
    <div class="left">Copyright &copy; 1999&ndash;2016 FastMail Pty Ltd.</div>
    <div class="right"><a href="https://www.fastmail.com/help/legal/privacy.html">Privacy policy</a> <a href="https://www.fastmail.com/help/legal/tos.html">Terms of service</a></div>
</div></div>
</body>
</html>
